{"ast":null,"code":"import config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AssignForm\",\n\n  data() {\n    return {\n      domainName: \"\",\n      // semester: \"\",\n      // schoolYear: \"\",\n      domainsName: [] // schoolYears: [],\n\n    };\n  },\n\n  async created() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(`${config.domain}/ministry/get-infor-assign`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.domainsName = res.data.result.domainsName; // this.schoolYears = res.data.result.schoolYears;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  computed: mapGetters({\n    adviser: \"getAdviserDetail\"\n  }),\n  methods: {\n    async handleAssign() {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.post(`${config.domain}/ministry/assign-adviser`, {\n        adviserId: this.adviser._id,\n        domainName: this.domainName // semester: this.semester,\n        // schoolYear: this.schoolYear,\n\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.$store.dispatch(\"setToast\", {\n        isSuccess: res.data.status,\n        message: res.data.message\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+HA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,eAAe;EACbC,IAAI,EAAE,YADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE,EADP;MAEL;MACA;MACAC,WAAW,EAAE,EAJR,CAKL;;IALK,CAAP;EAOD,CAVY;;EAWb,MAAMC,OAAN,GAAgB;IACd,IAAI;MACF,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMV,KAAK,CAACW,GAAN,CACf,GAAEZ,MAAM,CAACa,MAAO,4BADD,EAEhB;QACEC,OAAO,EAAE;UACPC,aAAa,EAAE,YAAYP;QADpB;MADX,CAFgB,CAAlB;MASA,KAAKF,WAAL,GAAmBK,GAAG,CAACP,IAAJ,CAASY,MAAT,CAAgBV,WAAnC,CAXE,CAYF;IACF,CAbA,CAaE,OAAOW,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACF;EACD,CA5BY;;EA6BbG,QAAQ,EAAElB,UAAU,CAAC;IAAEmB,OAAO,EAAE;EAAX,CAAD,CA7BP;EA8BbC,OAAO,EAAE;IACP,MAAMC,YAAN,GAAqB;MACnB,MAAMf,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMV,KAAK,CAACuB,IAAN,CACf,GAAExB,MAAM,CAACa,MAAO,0BADD,EAEhB;QACEY,SAAS,EAAE,KAAKJ,OAAL,CAAaK,GAD1B;QAEErB,UAAU,EAAE,KAAKA,UAFnB,CAGE;QACA;;MAJF,CAFgB,EAQhB;QACES,OAAO,EAAE;UACPC,aAAa,EAAE,YAAYP;QADpB;MADX,CARgB,CAAlB;MAeA,KAAKmB,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC;QAC/BC,SAAS,EAAElB,GAAG,CAACP,IAAJ,CAAS0B,MADW;QAE/BC,OAAO,EAAEpB,GAAG,CAACP,IAAJ,CAAS2B;MAFa,CAAjC;IAID;;EAtBM;AA9BI,CAAf","names":["config","axios","mapGetters","name","data","domainName","domainsName","created","token","localStorage","getItem","res","get","domain","headers","Authorization","result","error","console","log","computed","adviser","methods","handleAssign","post","adviserId","_id","$store","dispatch","isSuccess","status","message"],"sourceRoot":"","sources":["/Users/docaominh/Desktop/NLNKTPM/SUPLANCER/frontend/src/components/Ministry/AdviserManagement/AssignForm.vue"],"sourcesContent":["<template>\n  <div class=\"assgn-form\">\n    <!-- Modal -->\n    <div\n      class=\"modal fade\"\n      id=\"assignModal\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h1 class=\"modal-title fs-4 fw-bold\" id=\"exampleModalLabel\">\n              Phân công Adviser\n            </h1>\n            <button\n              type=\"button\"\n              class=\"btn-close\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n            ></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"form-label fw-bold\">Tên Adviser</label>\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                id=\"name\"\n                disabled\n                :placeholder=\"adviser.name\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"username\" class=\"form-label fw-bold\"\n                >Mã số Adviser</label\n              >\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                id=\"username\"\n                disabled\n                :placeholder=\"adviser.username\"\n              />\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"form-label fw-bold\"\n                >Domain phân công</label\n              >\n              <select\n                class=\"form-select\"\n                aria-label=\"select example\"\n                v-model=\"domainName\"\n              >\n                <option disabled value=\"\">Tên Domain</option>\n                <option\n                  v-for=\"domainName in domainsName\"\n                  :key=\"domainName\"\n                  :value=\"domainName\"\n                >\n                  {{ domainName }}\n                </option>\n              </select>\n            </div>\n            <!-- <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Học kỳ</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"semester\"\n                            >\n                                <option disabled value=\"\">Học kỳ</option>\n\n                                <option value=\"1\">1</option>\n                                <option value=\"2\">2</option>\n                                <option value=\"3\">Hè</option>\n                            </select>\n                        </div> -->\n            <!-- <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Niên khóa</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"schoolYear\"\n                            >\n                                <option disabled value=\"\">Niên khóa</option>\n\n                                <option\n                                    v-for=\"year in schoolYears\"\n                                    :key=\"year\"\n                                    :value=\"year\"\n                                >\n                                    {{ year }}\n                                </option>\n                            </select>\n                        </div> -->\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              Đóng\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              data-bs-dismiss=\"modal\"\n              @click=\"handleAssign\"\n              :disabled=\"!domainName\"\n            >\n              Phân công\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AssignForm\",\n  data() {\n    return {\n      domainName: \"\",\n      // semester: \"\",\n      // schoolYear: \"\",\n      domainsName: [],\n      // schoolYears: [],\n    };\n  },\n  async created() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(\n        `${config.domain}/ministry/get-infor-assign`,\n        {\n          headers: {\n            Authorization: \"Bearer \" + token,\n          },\n        }\n      );\n\n      this.domainsName = res.data.result.domainsName;\n      // this.schoolYears = res.data.result.schoolYears;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  computed: mapGetters({ adviser: \"getAdviserDetail\" }),\n  methods: {\n    async handleAssign() {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.post(\n        `${config.domain}/ministry/assign-adviser`,\n        {\n          adviserId: this.adviser._id,\n          domainName: this.domainName,\n          // semester: this.semester,\n          // schoolYear: this.schoolYear,\n        },\n        {\n          headers: {\n            Authorization: \"Bearer \" + token,\n          },\n        }\n      );\n\n      this.$store.dispatch(\"setToast\", {\n        isSuccess: res.data.status,\n        message: res.data.message,\n      });\n    },\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}