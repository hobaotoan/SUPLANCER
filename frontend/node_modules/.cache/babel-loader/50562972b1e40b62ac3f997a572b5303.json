{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0e829e0a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"admin-manage animate__animated animate__fadeIn container\"\n};\nconst _hoisted_2 = {\n  class: \"type-account col-12 d-flex justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"list-account mt-5 table-wrapper-scroll-y my-custom-scrollbar\"\n};\nconst _hoisted_4 = {\n  class: \"table table-striped table-bordered\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"STT\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Tên tài khoản\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Tên người dùng\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Loại người dùng\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Tùy chọn\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"text-center\",\n  scope: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"text-center\"\n};\nconst _hoisted_8 = {\n  class: \"text-center\"\n};\nconst _hoisted_9 = {\n  class: \"text-center\"\n};\nconst _hoisted_10 = {\n  class: \"text-center\"\n};\nconst _hoisted_11 = [\"onClick\"];\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-pencil-square text-warning fs-5\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = [_hoisted_12];\nconst _hoisted_14 = [\"onClick\"];\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-archive-fill text-danger fs-5\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = [_hoisted_15];\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex justify-content-center mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#createAccount\",\n  style: {\n    \"background-color\": \"#2c542f\",\n    \"color\": \"white\",\n    \"font-size\": \"12px\",\n    \"border-radius\": \"0 !important\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-plus-circle-fill\"\n}), /*#__PURE__*/_createTextVNode(\"   Thêm tài khoản \")])], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TitleStructure = _resolveComponent(\"TitleStructure\");\n\n  const _component_EditInforAccount = _resolveComponent(\"EditInforAccount\");\n\n  const _component_CreateAccount = _resolveComponent(\"CreateAccount\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_TitleStructure, {\n    title: `Danh sách tài khoản`\n  }), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"all\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tất cả tài khoản \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"adviser\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tài khoản Adviser \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"freelancer\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tài khoản Freelancer \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"project\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tài khoản đơn vị dự án \")]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.accountCurrent, (account, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"th\", _hoisted_6, _toDisplayString(index + 1), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(account.username), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(account.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(account.rule), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_10, [_createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#editInforAccount\",\n      onClick: $event => $options.handleSetUpdate(account)\n    }, _hoisted_13, 8\n    /* PROPS */\n    , _hoisted_11), _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn\",\n      onClick: $event => $options.handleDeleteAccount(account._id)\n    }, _hoisted_16, 8\n    /* PROPS */\n    , _hoisted_14)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])]), _hoisted_17, _createVNode(_component_EditInforAccount), _createVNode(_component_CreateAccount)]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","scope","_hoisted_12","_hoisted_15","type","style","_createElementBlock","_createVNode","_component_TitleStructure","title","id","onClick","$options","_hoisted_5","_Fragment","_renderList","_ctx","account","index","key","_toDisplayString","username","name","rule","_id","_hoisted_17","_component_EditInforAccount","_component_CreateAccount"],"sourceRoot":"","sources":["/Users/docaominh/Desktop/NLNKTPM/SUPLANCER/frontend/src/views/admin/AdminManage.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"admin-manage animate__animated animate__fadeIn container\">\n      <TitleStructure :title=\"`Danh sách tài khoản`\"></TitleStructure>\n      <div class=\"type-account col-12 d-flex justify-content-center\">\n        <button\n          type=\"button\"\n          class=\"type__item btn\"\n          id=\"all\"\n          @click=\"handleFilter\"\n        >\n          Tất cả tài khoản\n        </button>\n        <button\n          type=\"button\"\n          class=\"type__item btn\"\n          id=\"adviser\"\n          @click=\"handleFilter\"\n        >\n          Tài khoản Adviser\n        </button>\n        <button\n          type=\"button\"\n          class=\"type__item btn\"\n          id=\"freelancer\"\n          @click=\"handleFilter\"\n        >\n          Tài khoản Freelancer\n        </button>\n        <button\n          type=\"button\"\n          class=\"type__item btn\"\n          id=\"project\"\n          @click=\"handleFilter\"\n        >\n          Tài khoản đơn vị dự án\n        </button>\n      </div>\n      <div class=\"list-account mt-5 table-wrapper-scroll-y my-custom-scrollbar\">\n        <table class=\"table table-striped table-bordered\">\n          <thead>\n            <tr>\n              <th class=\"text-center\" scope=\"col\">STT</th>\n              <th class=\"text-center\" scope=\"col\">Tên tài khoản</th>\n              <th class=\"text-center\" scope=\"col\">Tên người dùng</th>\n              <th class=\"text-center\" scope=\"col\">Loại người dùng</th>\n              <th class=\"text-center\" scope=\"col\">Tùy chọn</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"(account, index) in accountCurrent\" :key=\"index\">\n              <th class=\"text-center\" scope=\"row\">\n                {{ index + 1 }}\n              </th>\n              <td class=\"text-center\">{{ account.username }}</td>\n              <td class=\"text-center\">{{ account.name }}</td>\n              <td class=\"text-center\">{{ account.rule }}</td>\n              <td class=\"text-center\">\n                <button\n                  type=\"button\"\n                  class=\"btn\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#editInforAccount\"\n                  @click=\"handleSetUpdate(account)\"\n                >\n                  <i class=\"bi bi-pencil-square text-warning fs-5\"></i>\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn\"\n                  @click=\"handleDeleteAccount(account._id)\"\n                >\n                  <i class=\"bi bi-archive-fill text-danger fs-5\"></i>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div class=\"d-flex justify-content-center mt-3\">\n      <button\n        type=\"button\"\n        class=\"btn\"\n        data-bs-toggle=\"modal\"\n        data-bs-target=\"#createAccount\"\n        style=\"\n          background-color: #2c542f;\n          color: white;\n          font-size: 12px;\n          border-radius: 0 !important;\n        \"\n      >\n        <i class=\"bi bi-plus-circle-fill\"></i> &nbsp; Thêm tài khoản\n      </button>\n    </div>\n    <EditInforAccount></EditInforAccount>\n\n    <CreateAccount></CreateAccount>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport config from \"@/config/index.js\";\nimport TitleStructure from \"../../components/GlobalComponent/TitleStructure.vue\";\nimport EditInforAccount from \"../../components/Admin/ManageAccount/EditInforAccount.vue\";\nimport CreateAccount from \"../../components/Admin/ManageAccount/CreateAccount.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"AdminManage\",\n  components: { TitleStructure, EditInforAccount, CreateAccount },\n\n  data() {\n    return {\n      accountFreelancer: [],\n      accountAdviser: [],\n      accountProject: [],\n      accounts: [],\n      accountUpdate: {},\n    };\n  },\n  computed: mapGetters({ accountCurrent: \"getAccountCurrent\" }),\n  mounted() {\n    document.querySelectorAll(\".type__item\")[0].classList.add(\"active\");\n\n    const typeItems = document.querySelectorAll(\".type__item\");\n\n    [...typeItems].forEach(function (typeItem) {\n      typeItem.addEventListener(\"click\", handleBorderItem);\n    });\n\n    function handleBorderItem(event) {\n      [...typeItems].forEach((typeItem) => {\n        typeItem.classList.remove(\"active\");\n      });\n      event.target.classList.add(\"active\");\n    }\n  },\n  async created() {\n    const token = localStorage.getItem(\"token\");\n    const response = await axios.get(`${config.domain}/admin/get-all-account`, {\n      headers: {\n        Authorization: \"Bearer \" + token,\n      },\n    });\n\n    this.accounts = response.data.result;\n\n    this.$store.commit(\"SET_ACCOUNT_CURRENT\", response.data.result);\n  },\n  methods: {\n    handleFilter(event) {\n      const filter = event.target.id;\n      if (filter == \"adviser\") {\n        this.$store.commit(\n          \"SET_ACCOUNT_CURRENT\",\n          this.accounts.filter((account) => account.rule == \"ADVISER\")\n        );\n      } else if (filter == \"freelancer\") {\n        this.$store.commit(\n          \"SET_ACCOUNT_CURRENT\",\n          this.accounts.filter((account) => account.rule == \"FREELANCER\")\n        );\n      } else if (filter == \"project\") {\n        this.$store.commit(\n          \"SET_ACCOUNT_CURRENT\",\n          this.accounts.filter((account) => account.rule == \"PROJECT\")\n        );\n      } else if (filter == \"all\") {\n        this.$store.commit(\"SET_ACCOUNT_CURRENT\", this.accounts);\n      }\n    },\n    async handleDeleteAccount(accountId) {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.delete(`${config.domain}/admin/delete-account`, {\n        headers: { Authorization: \"Bearer \" + token },\n\n        data: {\n          accountId,\n        },\n      });\n\n      this.$store.commit(\"SET_TOAST\", {\n        message: res.data.message,\n        isSuccess: res.data.status,\n      });\n\n      if (res.data.status) {\n        this.$store.commit(\"DELETE_ACCOUNT_CURRENT\", accountId);\n      }\n    },\n\n    handleSetUpdate(account) {\n      this.$store.commit(\"SET_ACCOUNT_UPDATE\", account);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn.active {\n  border-color: none !important;\n}\n.type__item {\n  background-color: #95a800 !important;\n  border-color: none;\n  color: white;\n  font-size: 12px;\n  margin-left: 15px;\n}\n\n.type__item.active {\n  /* transition: border-bottom 0.5s linear;\n    border-bottom-color: #2f2fe6; */\n}\n\n.my-custom-scrollbar {\n  position: relative;\n  height: 400px;\n  overflow: auto;\n}\n.table-wrapper-scroll-y {\n  display: block;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}