{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport config from \"@/config\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport Overview from \"@/components/Leader/Manage/Overview.vue\";\nimport DetailFreelancer from \"@/components/Leader/Manage/DetailFreelancer.vue\";\nimport TitleStructure from \"@/components/GlobalComponent/TitleStructure.vue\";\nimport FreelancerFilter from \"@/components/FreelancerFilter/FreelancerFilter.vue\";\nimport FreelancerItem from \"../../components/Leader/Manage/FreelancerItem.vue\";\nexport default {\n  name: \"LeaderManage\",\n  components: {\n    Overview,\n    DetailFreelancer,\n    FreelancerFilter,\n    TitleStructure,\n    FreelancerItem\n  },\n  computed: { ...mapGetters({\n      account: \"getAccount\",\n      currentList: \"getCurrentList\"\n    })\n  },\n  methods: mapActions([\"setAccount\"]),\n\n  async created() {\n    //Tao lai account khi refresh\n    await this.setAccount();\n    const token = localStorage.getItem(\"token\"); // Lay danh sach lop <classManagement> cua giang vien!\n\n    const response = await axios.get(`${config.domain}/leader/get-team-list`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      },\n      params: {\n        leaderId: this.account.id\n      }\n    });\n    const classList = response.data.result; //Lay ten lop tu danh sach lop cua giang vien!\n\n    const teamName = [];\n    classList.forEach(classManagement => {\n      if (!teamName.includes(classManagement.teamName)) {\n        teamName.push(classManagement.teamName);\n      }\n    });\n    this.$store.commit(\"SET_CLASS_NAME\", teamName); //Lay danh sach sinh vien tu ten lop cua giang vien\n\n    const freelancerList = [];\n\n    for (let i = 0; i < teamName.length; ++i) {\n      const response = await axios.get(`${config.domain}/leader/get-freelancer-list`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          teamName: teamName[i]\n        }\n      });\n      const tempt = response.data.result;\n      freelancerList.push(...tempt);\n    }\n\n    this.$store.commit(\"SET_FREELANCER_LIST\", freelancerList);\n    this.$store.commit(\"SET_CURRENT_LIST\", freelancerList);\n  },\n\n  mounted() {\n    // Dong cac detail khi accordion khong mo.\n    const accordion = document.querySelector(\".accordion-collapse.show\");\n\n    if (!accordion) {\n      this.$store.commit(\"CLOSE_DETAIL_FREELANCER\");\n    }\n  }\n\n};","map":{"version":3,"mappings":";AAsCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,MAAvC;AACA,OAAOC,QAAP,MAAqB,yCAArB;AACA,OAAOC,gBAAP,MAA6B,iDAA7B;AACA,OAAOC,cAAP,MAA2B,iDAA3B;AACA,OAAOC,gBAAP,MAA6B,oDAA7B;AACA,OAAOC,cAAP,MAA2B,mDAA3B;AAEA,eAAe;EACXC,IAAI,EAAE,cADK;EAEXC,UAAU,EAAE;IACRN,QADQ;IAERC,gBAFQ;IAGRE,gBAHQ;IAIRD,cAJQ;IAKRE;EALQ,CAFD;EASXG,QAAQ,EAAE,EACN,GAAGT,UAAU,CAAC;MAAEU,OAAO,EAAE,YAAX;MAAyBC,WAAW,EAAE;IAAtC,CAAD;EADP,CATC;EAYXC,OAAO,EAAEX,UAAU,CAAC,CAAC,YAAD,CAAD,CAZR;;EAcX,MAAMY,OAAN,GAAgB;IACZ;IACA,MAAM,KAAKC,UAAL,EAAN;IAEA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAJY,CAMZ;;IACA,MAAMC,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAN,CAClB,GAAEpB,MAAM,CAACqB,MAAO,uBADE,EAEnB;MACIC,OAAO,EAAE;QAAEC,aAAa,EAAE,YAAYP;MAA7B,CADb;MAEIQ,MAAM,EAAE;QAAEC,QAAQ,EAAE,KAAKd,OAAL,CAAae;MAAzB;IAFZ,CAFmB,CAAvB;IAOA,MAAMC,SAAQ,GAAIR,QAAQ,CAACS,IAAT,CAAcC,MAAhC,CAdY,CAgBZ;;IACA,MAAMC,QAAO,GAAI,EAAjB;IACAH,SAAS,CAACI,OAAV,CAAmBC,eAAD,IAAqB;MACnC,IAAI,CAACF,QAAQ,CAACG,QAAT,CAAkBD,eAAe,CAACF,QAAlC,CAAL,EAAkD;QAC9CA,QAAQ,CAACI,IAAT,CAAcF,eAAe,CAACF,QAA9B;MACJ;IACH,CAJD;IAKA,KAAKK,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqCN,QAArC,EAvBY,CAyBZ;;IACA,MAAMO,cAAa,GAAI,EAAvB;;IACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIR,QAAQ,CAACS,MAA7B,EAAqC,EAAED,CAAvC,EAA0C;MACtC,MAAMnB,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAN,CAClB,GAAEpB,MAAM,CAACqB,MAAO,6BADE,EAEnB;QACIC,OAAO,EAAE;UAAEC,aAAa,EAAE,YAAYP;QAA7B,CADb;QAEIQ,MAAM,EAAE;UAAEM,QAAQ,EAAEA,QAAQ,CAACQ,CAAD;QAApB;MAFZ,CAFmB,CAAvB;MAOA,MAAME,KAAI,GAAIrB,QAAQ,CAACS,IAAT,CAAcC,MAA5B;MACAQ,cAAc,CAACH,IAAf,CAAoB,GAAGM,KAAvB;IACJ;;IAEA,KAAKL,MAAL,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CC,cAA1C;IACA,KAAKF,MAAL,CAAYC,MAAZ,CAAmB,kBAAnB,EAAuCC,cAAvC;EACH,CAvDU;;EAwDXI,OAAO,GAAG;IACN;IACA,MAAMC,SAAQ,GAAIC,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,CAAlB;;IACA,IAAI,CAACF,SAAL,EAAgB;MACZ,KAAKP,MAAL,CAAYC,MAAZ,CAAmB,yBAAnB;IACJ;EACH;;AA9DU,CAAf","names":["axios","config","mapGetters","mapActions","Overview","DetailFreelancer","TitleStructure","FreelancerFilter","FreelancerItem","name","components","computed","account","currentList","methods","created","setAccount","token","localStorage","getItem","response","get","domain","headers","Authorization","params","leaderId","id","classList","data","result","teamName","forEach","classManagement","includes","push","$store","commit","freelancerList","i","length","tempt","mounted","accordion","document","querySelector"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Downloads\\internship-management-main\\internship-management-main\\frontend\\src\\views\\leader\\LeaderManage.vue"],"sourcesContent":["<template>\n    <div class=\"leader-manage p-4 container\">\n        <div class=\"col-12 d-flex\">\n            <TitleStructure :title=\"`Danh sách sinh viên`\" class=\"col-6 me-4\">\n                <img\n                    src=\"https://cdn-icons-png.flaticon.com/512/4426/4426381.png\"\n                    alt=\"Lọc sinh viên\"\n                    data-bs-toggle=\"modal\"\n                    data-bs-target=\"#FreelancerFilter\"\n                    class=\"filter-icon\"\n                />\n            </TitleStructure>\n            <TitleStructure :title=\"`Tổng quan`\" class=\"col-6 title-detail\">\n            </TitleStructure>\n        </div>\n        <div class=\"leader-manage__content row\">\n            <div class=\"leader-freelancer-list col-6\">\n                <div class=\"leader-freelancer-item\">\n                    <FreelancerItem\n                        v-for=\"(freelancer, index) in currentList\"\n                        :key=\"index\"\n                        :index=\"`id${index}`\"\n                        :freelancer=\"freelancer\"\n                        class=\"me-3\"\n                    >\n                    </FreelancerItem>\n                </div>\n            </div>\n            <div class=\"view-detail col-6 flex-grow-1\">\n                <Overview />\n                <DetailFreelancer></DetailFreelancer>\n            </div>\n        </div>\n        <FreelancerFilter />\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport config from \"@/config\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport Overview from \"@/components/Leader/Manage/Overview.vue\";\nimport DetailFreelancer from \"@/components/Leader/Manage/DetailFreelancer.vue\";\nimport TitleStructure from \"@/components/GlobalComponent/TitleStructure.vue\";\nimport FreelancerFilter from \"@/components/FreelancerFilter/FreelancerFilter.vue\";\nimport FreelancerItem from \"../../components/Leader/Manage/FreelancerItem.vue\";\n\nexport default {\n    name: \"LeaderManage\",\n    components: {\n        Overview,\n        DetailFreelancer,\n        FreelancerFilter,\n        TitleStructure,\n        FreelancerItem,\n    },\n    computed: {\n        ...mapGetters({ account: \"getAccount\", currentList: \"getCurrentList\" }),\n    },\n    methods: mapActions([\"setAccount\"]),\n\n    async created() {\n        //Tao lai account khi refresh\n        await this.setAccount();\n\n        const token = localStorage.getItem(\"token\");\n\n        // Lay danh sach lop <classManagement> cua giang vien!\n        const response = await axios.get(\n            `${config.domain}/leader/get-team-list`,\n            {\n                headers: { Authorization: \"Bearer \" + token },\n                params: { leaderId: this.account.id },\n            }\n        );\n        const classList = response.data.result;\n\n        //Lay ten lop tu danh sach lop cua giang vien!\n        const teamName = [];\n        classList.forEach((classManagement) => {\n            if (!teamName.includes(classManagement.teamName)) {\n                teamName.push(classManagement.teamName);\n            }\n        });\n        this.$store.commit(\"SET_CLASS_NAME\", teamName);\n\n        //Lay danh sach sinh vien tu ten lop cua giang vien\n        const freelancerList = [];\n        for (let i = 0; i < teamName.length; ++i) {\n            const response = await axios.get(\n                `${config.domain}/leader/get-freelancer-list`,\n                {\n                    headers: { Authorization: \"Bearer \" + token },\n                    params: { teamName: teamName[i] },\n                }\n            );\n            const tempt = response.data.result;\n            freelancerList.push(...tempt);\n        }\n\n        this.$store.commit(\"SET_FREELANCER_LIST\", freelancerList);\n        this.$store.commit(\"SET_CURRENT_LIST\", freelancerList);\n    },\n    mounted() {\n        // Dong cac detail khi accordion khong mo.\n        const accordion = document.querySelector(\".accordion-collapse.show\");\n        if (!accordion) {\n            this.$store.commit(\"CLOSE_DETAIL_FREELANCER\");\n        }\n    },\n};\n</script>\n\n<style scoped>\n.leader-freelancer-item {\n    height: 420px;\n    overflow-y: scroll;\n}\n.view-detail {\n    width: 49%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}