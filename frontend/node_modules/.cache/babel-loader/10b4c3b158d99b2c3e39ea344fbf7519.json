{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"freelancers-register row p-4 animate__fadeIn animate__animated\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"col-12\\\"><div class=\\\"d-flex\\\"><h2 class=\\\"header-list label m-0 p-2 pt-4 fw-bold col-6\\\"> Sinh viên đăng ký <div class=\\\"line my-3\\\"></div></h2><h2 class=\\\"header-list label m-0 p-2 pt-4 fw-bold col-6\\\"> Thông tin chi tiết <div class=\\\"line my-3\\\"></div></h2></div></div>\", 1);\n\nconst _hoisted_3 = {\n  class: \"accordion col-6\",\n  style: {\n    \"height\": \"500px\",\n    \"overflow-y\": \"scroll\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"col-6\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n}, \" Đóng \", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\"\n}, \" Đóng \", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ItemFreelancer = _resolveComponent(\"ItemFreelancer\");\n\n  const _component_InformationDetail = _resolveComponent(\"InformationDetail\");\n\n  const _component_Statistics = _resolveComponent(\"Statistics\");\n\n  const _component_Modal = _resolveComponent(\"Modal\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.freelancerList, (freelancer, index) => {\n    return _openBlock(), _createBlock(_component_ItemFreelancer, {\n      key: index,\n      class: \"mb-2\",\n      freelancer: freelancer,\n      index: index\n    }, null, 8\n    /* PROPS */\n    , [\"freelancer\", \"index\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_4, [_ctx.isShowDetail ? (_openBlock(), _createBlock(_component_InformationDetail, {\n    key: 0\n  })) : (_openBlock(), _createBlock(_component_Statistics, {\n    key: 1\n  }))])]), _createVNode(_component_Modal, {\n    id: \"ModalRefuse\",\n    message: \"Bạn có chắc muốn xóa ứng viên này?\"\n  }, {\n    default: _withCtx(() => [_hoisted_5, _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      \"data-bs-dismiss\": \"modal\",\n      onClick: _cache[0] || (_cache[0] = $event => {\n        $options.handleRefuse(_ctx.freelancer.id);\n\n        _ctx.closeDetail();\n      })\n    }, \" Xác nhận \")]),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_Modal, {\n    id: \"ModalAccept\",\n    message: \"Bạn có chắc muốn xác nhận ứng viên này?\"\n  }, {\n    default: _withCtx(() => [_hoisted_6, _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn\",\n      style: {\n        \"background-color\": \"#2C542F\",\n        \"color\": \"white\"\n      },\n      \"data-bs-dismiss\": \"modal\",\n      onClick: _cache[1] || (_cache[1] = $event => {\n        $options.handleConfirm(_ctx.freelancer.id);\n\n        _ctx.closeDetail();\n      })\n    }, \" Xác nhận \")]),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":";;EAGYA,KAAK,EAAC;;;;;;EAqBFA,KAAK,EAAC;EACNC,KAAyC,EAAzC;IAAA;IAAA;EAAA;;;EAUCD,KAAK,EAAC;;;gCAMVE,oBAMQ,QANR,EAMQ;EALLC,IAAI,EAAC,QAKA;EAJLH,KAAK,EAAC,mBAID;EAHL,mBAAgB;AAGX,CANR,EAIA,QAJA,EAMD;AAAA;AANC;;gCAwBAE,oBAMQ,QANR,EAMQ;EALLC,IAAI,EAAC,QAKA;EAJLH,KAAK,EAAC,mBAID;EAHL,mBAAgB;AAGX,CANR,EAIA,QAJA,EAMD;AAAA;AANC;;;;;;;;;;;uBAhETI,oBAoFM,KApFN,EAoFM,IApFN,EAoFM,CAnFFF,oBAqCM,KArCN,cAqCM,CAlCFG,UAkCE,EAhBFH,oBAWM,KAXN,cAWM,oBAPFE,oBAMEE,SANF,EAME,IANF,EAMEC,YALgCC,mBAKhC,EAL8C,CAApCC,UAAoC,EAAxBC,KAAwB,KAAnB;yBAD7BC,aAMEC,yBANF,EAME;MAJGC,GAAG,EAAEH,KAIR;MAHEV,KAAK,EAAC,MAGR;MAFGS,UAAU,EAAEA,UAEf;MADGC,KAAK,EAAEA;IACV,CANF;;IAAA;GAME,CANF;;EAAA,CAOE,EAXN,CAgBE,EAJFR,oBAGM,KAHN,cAGM,CAFuBM,mCAAzBG,aAAyCG,4BAAzC,EAAyC;IAAAD;EAAA,CAAzC,oBACAF,aAAqBI,qBAArB,EAAqB;IAAAF;EAAA,CAArB,EACE,CAHN,CAIE,CArCN,CAmFE,EA7CFG,aAoBQC,gBApBR,EAoBQ;IApBDC,EAAE,EAAC,aAoBF;IApBgBC,OAAO,EAAC;EAoBxB,CApBR;sBACK,MAMQ,CANRC,UAMQ,EAETlB,oBAUS,QAVT,EAUS;MATLC,IAAI,EAAC,QASA;MARLH,KAAK,EAAC,iBAQD;MAPL,mBAAgB,OAOX;MANJqB,OAAK;QAAuBC,sBAAad,gBAAWU,EAAxB;;QAAiDV;OAAxE;IAMD,CAVT,EAQC,YARD,CAFS;;;;GAPb,CA6CE,EAvBFQ,aAsBQC,gBAtBR,EAsBQ;IArBJC,EAAE,EAAC,aAqBC;IApBJC,OAAO,EAAC;EAoBJ,CAtBR;sBAGK,MAMQ,CANRI,UAMQ,EACTrB,oBAWS,QAXT,EAWS;MAVLC,IAAI,EAAC,QAUA;MATLH,KAAK,EAAC,KASD;MARLC,KAAgD,EAAhD;QAAA;QAAA;MAAA,CAQK;MAPL,mBAAgB,OAOX;MANJoB,OAAK;QAAuBC,uBAAcd,gBAAWU,EAAzB;;QAAkDV;OAAzE;IAMD,CAXT,EASC,YATD,CADS;;;;GATb,CAuBE,CApFN","names":["class","style","_createElementVNode","type","_createElementBlock","_hoisted_2","_Fragment","_renderList","_ctx","freelancer","index","_createBlock","_component_ItemFreelancer","key","_component_InformationDetail","_component_Statistics","_createVNode","_component_Modal","id","message","_hoisted_5","onClick","$options","_hoisted_6"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Downloads\\internship-management-main\\internship-management-main\\frontend\\src\\views\\project\\FreelancersRegister.vue"],"sourcesContent":["<template>\n    <div>\n        <div\n            class=\"freelancers-register row p-4 animate__fadeIn animate__animated\"\n        >\n            <div class=\"col-12\">\n                <div class=\"d-flex\">\n                    <h2\n                        class=\"header-list label m-0 p-2 pt-4 fw-bold col-6\"\n\n                    >\n                        Sinh viên đăng ký\n                        <div class=\"line my-3\"></div>\n                    </h2>\n                    <h2\n                        class=\"header-list label m-0 p-2 pt-4 fw-bold col-6\"\n\n                    >\n                        Thông tin chi tiết\n                        <div class=\"line my-3\"></div>\n                    </h2>\n                </div>\n            </div>\n            <div\n                class=\"accordion col-6\"\n                style=\"height: 500px; overflow-y: scroll\"\n            >\n                <ItemFreelancer\n                    v-for=\"(freelancer, index) in freelancerList\"\n                    :key=\"index\"\n                    class=\"mb-2\"\n                    :freelancer=\"freelancer\"\n                    :index=\"index\"\n                />\n            </div>\n            <div class=\"col-6\">\n                <InformationDetail v-if=\"isShowDetail\" />\n                <Statistics v-else />\n            </div>\n        </div>\n        <Modal id=\"ModalRefuse\" message=\"Bạn có chắc muốn xóa ứng viên này?\"\n            ><button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n            >\n                Đóng\n            </button>\n\n            <button\n                type=\"button\"\n                class=\"btn btn-primary\"\n                data-bs-dismiss=\"modal\"\n                @click=\"\n                    handleRefuse(freelancer.id);\n                    closeDetail();\n                \"\n            >\n                Xác nhận\n            </button>\n        </Modal>\n\n        <Modal\n            id=\"ModalAccept\"\n            message=\"Bạn có chắc muốn xác nhận ứng viên này?\"\n            ><button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n            >\n                Đóng\n            </button>\n            <button\n                type=\"button\"\n                class=\"btn\"\n                style=\"background-color: #2C542F; color: white;\"\n                data-bs-dismiss=\"modal\"\n                @click=\"\n                    handleConfirm(freelancer.id);\n                    closeDetail();\n                \"\n            >\n                Xác nhận\n            </button>\n        </Modal>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport config from \"@/config/index.js\";\nimport ItemFreelancer from \"../../components/Project/FreelancersRegister/ItemFreelancer.vue\";\nimport InformationDetail from \"../../components/Project/FreelancersRegister/InformationDetail.vue\";\nimport Statistics from \"../../components/Project/FreelancersRegister/Statistics.vue\";\nimport Modal from \"@/components/Modal/Modal.vue\";\n\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\nexport default {\n    name: \"FreelancersRegister\",\n    components: { ItemFreelancer, InformationDetail, Statistics, Modal },\n    computed: {\n        ...mapGetters({\n            isShowDetail: \"getShowDetail\",\n            freelancerList: \"getFreelancerList\",\n            account: \"getAccount\",\n            freelancer: \"getFreelancerDetail\",\n        }),\n        ...mapMutations({ closeDetail: \"CLOSE_DETAIL\" }),\n    },\n    methods: {\n        ...mapActions([\"setAccount\"]),\n        ...mapMutations({ closeDetail: \"CLOSE_DETAIL\" }),\n        async handleRefuse(freelancerId) {\n            try {\n                const toast = await this.handleDeleteFreelancer(freelancerId);\n\n                this.$store.dispatch(\"setToast\", {\n                    isSuccess: toast.status,\n                    message: toast.message,\n                });\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        async handleConfirm(freelancerId) {\n            const token = localStorage.getItem(\"token\");\n            try {\n                const res = await axios.post(\n                    `${config.domain}/project/confirm/`,\n                    { freelancerId, projectId: this.account.id },\n                    {\n                        headers: { Authorization: \"Bearer \" + token },\n                    }\n                );\n\n                await this.handleRefuse(freelancerId);\n\n                if (res.data.status) {\n                    this.$store.dispatch(\"setToast\", {\n                        isSuccess: res.data.status,\n                        message: res.data.message,\n                    });\n                }\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        async handleDeleteFreelancer(freelancerId) {\n            const token = localStorage.getItem(\"token\");\n            try {\n                const res = await axios.delete(\n                    `${config.domain}/project/refuse-register/`,\n                    {\n                        headers: { Authorization: \"Bearer \" + token },\n\n                        data: {\n                            freelancerId,\n                            projectId: this.account.id,\n                        },\n                    }\n                );\n\n                if (res.data.status) {\n                    this.$store.commit(\"DELETE_FREELANCER\", this.freelancer.id);\n                }\n\n                return { status: res.data.status, message: res.data.message };\n            } catch (error) {\n                console.log(error);\n            }\n        },\n    },\n    async created() {\n        this.$store.commit(\"CLOSE_DETAIL\");\n\n        const token = localStorage.getItem(\"token\");\n        await this.setAccount();\n\n        const res = await axios.get(\n            `${config.domain}/project/get-freelancers-register/`,\n            {\n                params: {\n                    projectId: this.account.id,\n                },\n                headers: { Authorization: \"Bearer \" + token },\n            }\n        );\n        this.$store.commit(\"SET_FREELANCER_LIST\", res.data.result);\n    },\n};\n</script>\n\n<style>\n.line {\n    border-bottom: 3px solid #1c57a5;\n    width: 100px;\n}\n.header-list{\n    color:#2C542F;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}