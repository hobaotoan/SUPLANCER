{"ast":null,"code":"import axios from \"axios\";\nimport config from \"@/config/index.js\";\nimport ItemFreelancer from \"../../components/Project/FreelancersRegister/ItemFreelancer.vue\";\nimport InformationDetail from \"../../components/Project/FreelancersRegister/InformationDetail.vue\";\nimport Statistics from \"../../components/Project/FreelancersRegister/Statistics.vue\";\nimport Modal from \"@/components/Modal/Modal.vue\";\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\nexport default {\n  name: \"FreelancersRegister\",\n  components: {\n    ItemFreelancer,\n    InformationDetail,\n    Statistics,\n    Modal\n  },\n  computed: { ...mapGetters({\n      isShowDetail: \"getShowDetail\",\n      freelancerList: \"getFreelancerList\",\n      account: \"getAccount\",\n      freelancer: \"getFreelancerDetail\"\n    }),\n    ...mapMutations({\n      closeDetail: \"CLOSE_DETAIL\"\n    })\n  },\n  methods: { ...mapActions([\"setAccount\"]),\n    ...mapMutations({\n      closeDetail: \"CLOSE_DETAIL\"\n    }),\n\n    async handleRefuse(freelancerId) {\n      try {\n        const toast = await this.handleDeleteFreelancer(freelancerId);\n        this.$store.dispatch(\"setToast\", {\n          isSuccess: toast.status,\n          message: toast.message\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async handleConfirm(freelancerId) {\n      const token = localStorage.getItem(\"token\");\n\n      try {\n        const res = await axios.post(`${config.domain}/project/confirm/`, {\n          freelancerId,\n          projectId: this.account.id\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          }\n        });\n        await this.handleRefuse(freelancerId);\n\n        if (res.data.status) {\n          this.$store.dispatch(\"setToast\", {\n            isSuccess: res.data.status,\n            message: res.data.message\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async handleDeleteFreelancer(freelancerId) {\n      const token = localStorage.getItem(\"token\");\n\n      try {\n        const res = await axios.delete(`${config.domain}/project/refuse-register/`, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          },\n          data: {\n            freelancerId,\n            projectId: this.account.id\n          }\n        });\n\n        if (res.data.status) {\n          this.$store.commit(\"DELETE_FREELANCER\", this.freelancer.id);\n        }\n\n        return {\n          status: res.data.status,\n          message: res.data.message\n        };\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  },\n\n  async created() {\n    this.$store.commit(\"CLOSE_DETAIL\");\n    const token = localStorage.getItem(\"token\");\n    await this.setAccount();\n    const res = await axios.get(`${config.domain}/project/get-freelancers-register/`, {\n      params: {\n        projectId: this.account.id\n      },\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    this.$store.commit(\"SET_FREELANCER_LIST\", res.data.result);\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","config","ItemFreelancer","InformationDetail","Statistics","Modal","mapActions","mapGetters","mapMutations","name","components","computed","isShowDetail","freelancerList","account","freelancer","closeDetail","methods","handleRefuse","freelancerId","toast","handleDeleteFreelancer","$store","dispatch","isSuccess","status","message","error","console","log","handleConfirm","token","localStorage","getItem","res","post","domain","projectId","id","headers","Authorization","data","delete","commit","created","setAccount","get","params","result"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\SUPLANCER\\frontend\\src\\views\\project\\FreelancersRegister.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div\r\n            class=\"freelancers-register row p-4 animate__fadeIn animate__animated\"\r\n        >\r\n            <div class=\"col-12\">\r\n                <div class=\"d-flex\">\r\n                    <h2\r\n                        class=\"header-list label m-0 p-2 pt-4 fw-bold col-6\"\r\n\r\n                    >\r\n                        Freelancer đăng ký\r\n                        <div class=\"line my-3\"></div>\r\n                    </h2>\r\n                    <h2\r\n                        class=\"header-list label m-0 p-2 pt-4 fw-bold col-6\"\r\n\r\n                    >\r\n                        Thông tin chi tiết\r\n                        <div class=\"line my-3\"></div>\r\n                    </h2>\r\n                </div>\r\n            </div>\r\n            <div\r\n                class=\"accordion col-6\"\r\n                style=\"height: 500px; overflow-y: scroll\"\r\n            >\r\n                <ItemFreelancer\r\n                    v-for=\"(freelancer, index) in freelancerList\"\r\n                    :key=\"index\"\r\n                    class=\"mb-2\"\r\n                    :freelancer=\"freelancer\"\r\n                    :index=\"index\"\r\n                />\r\n            </div>\r\n            <div class=\"col-6\">\r\n                <InformationDetail v-if=\"isShowDetail\" />\r\n                <Statistics v-else />\r\n            </div>\r\n        </div>\r\n        <Modal id=\"ModalRefuse\" message=\"Bạn có chắc muốn xóa ứng viên này?\"\r\n            ><button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n            >\r\n                Đóng\r\n            </button>\r\n\r\n            <button\r\n                type=\"button\"\r\n                class=\"btn text-white\"\r\n                        style=\"background-color: #2C542F; border:none;\"\r\n                data-bs-dismiss=\"modal\"\r\n                @click=\"\r\n                    handleRefuse(freelancer.id);\r\n                    closeDetail();\r\n                \"\r\n            >\r\n                Xác nhận\r\n            </button>\r\n        </Modal>\r\n\r\n        <Modal\r\n            id=\"ModalAccept\"\r\n            message=\"Bạn có chắc muốn xác nhận ứng viên này?\"\r\n            ><button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n            >\r\n                Đóng\r\n            </button>\r\n            <button\r\n                type=\"button\"\r\n                class=\"btn\"\r\n                style=\"background-color: #2C542F; color: white;\"\r\n                data-bs-dismiss=\"modal\"\r\n                @click=\"\r\n                    handleConfirm(freelancer.id);\r\n                    closeDetail();\r\n                \"\r\n            >\r\n                Xác nhận\r\n            </button>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config/index.js\";\r\nimport ItemFreelancer from \"../../components/Project/FreelancersRegister/ItemFreelancer.vue\";\r\nimport InformationDetail from \"../../components/Project/FreelancersRegister/InformationDetail.vue\";\r\nimport Statistics from \"../../components/Project/FreelancersRegister/Statistics.vue\";\r\nimport Modal from \"@/components/Modal/Modal.vue\";\r\n\r\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\r\nexport default {\r\n    name: \"FreelancersRegister\",\r\n    components: { ItemFreelancer, InformationDetail, Statistics, Modal },\r\n    computed: {\r\n        ...mapGetters({\r\n            isShowDetail: \"getShowDetail\",\r\n            freelancerList: \"getFreelancerList\",\r\n            account: \"getAccount\",\r\n            freelancer: \"getFreelancerDetail\",\r\n        }),\r\n        ...mapMutations({ closeDetail: \"CLOSE_DETAIL\" }),\r\n    },\r\n    methods: {\r\n        ...mapActions([\"setAccount\"]),\r\n        ...mapMutations({ closeDetail: \"CLOSE_DETAIL\" }),\r\n        async handleRefuse(freelancerId) {\r\n            try {\r\n                const toast = await this.handleDeleteFreelancer(freelancerId);\r\n\r\n                this.$store.dispatch(\"setToast\", {\r\n                    isSuccess: toast.status,\r\n                    message: toast.message,\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async handleConfirm(freelancerId) {\r\n            const token = localStorage.getItem(\"token\");\r\n            try {\r\n                const res = await axios.post(\r\n                    `${config.domain}/project/confirm/`,\r\n                    { freelancerId, projectId: this.account.id },\r\n                    {\r\n                        headers: { Authorization: \"Bearer \" + token },\r\n                    }\r\n                );\r\n\r\n                await this.handleRefuse(freelancerId);\r\n\r\n                if (res.data.status) {\r\n                    this.$store.dispatch(\"setToast\", {\r\n                        isSuccess: res.data.status,\r\n                        message: res.data.message,\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async handleDeleteFreelancer(freelancerId) {\r\n            const token = localStorage.getItem(\"token\");\r\n            try {\r\n                const res = await axios.delete(\r\n                    `${config.domain}/project/refuse-register/`,\r\n                    {\r\n                        headers: { Authorization: \"Bearer \" + token },\r\n\r\n                        data: {\r\n                            freelancerId,\r\n                            projectId: this.account.id,\r\n                        },\r\n                    }\r\n                );\r\n\r\n                if (res.data.status) {\r\n                    this.$store.commit(\"DELETE_FREELANCER\", this.freelancer.id);\r\n                }\r\n\r\n                return { status: res.data.status, message: res.data.message };\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n    },\r\n    async created() {\r\n        this.$store.commit(\"CLOSE_DETAIL\");\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        await this.setAccount();\r\n\r\n        const res = await axios.get(\r\n            `${config.domain}/project/get-freelancers-register/`,\r\n            {\r\n                params: {\r\n                    projectId: this.account.id,\r\n                },\r\n                headers: { Authorization: \"Bearer \" + token },\r\n            }\r\n        );\r\n        this.$store.commit(\"SET_FREELANCER_LIST\", res.data.result);\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n.line {\r\n    border-bottom: 3px solid #1c57a5;\r\n    width: 100px;\r\n}\r\n.header-list{\r\n    color:#2C542F;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}