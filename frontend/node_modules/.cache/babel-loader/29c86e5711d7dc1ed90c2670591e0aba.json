{"ast":null,"code":"import config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AssignForm\",\n\n  data() {\n    return {\n      teamName: \"\",\n      // semester: \"\",\n      // schoolYear: \"\",\n      teamsName: [] // schoolYears: [],\n\n    };\n  },\n\n  async created() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(`${config.domain}/ministry/get-infor-assign`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.teamsName = res.data.result.teamsName; // this.schoolYears = res.data.result.schoolYears;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  computed: mapGetters({\n    leader: \"getLeaderDetail\"\n  }),\n  methods: {\n    async handleAssign() {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.post(`${config.domain}/ministry/assign-leader`, {\n        leaderId: this.leader._id,\n        teamName: this.teamName // semester: this.semester,\n        // schoolYear: this.schoolYear,\n\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.$store.dispatch(\"setToast\", {\n        isSuccess: res.data.status,\n        message: res.data.message\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoIA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,eAAe;EACXC,IAAI,EAAE,YADK;;EAEXC,IAAI,GAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EADP;MAEH;MACA;MACAC,SAAS,EAAE,EAJR,CAKH;;IALG,CAAP;EAOH,CAVU;;EAWX,MAAMC,OAAN,GAAgB;IACZ,IAAI;MACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMV,KAAK,CAACW,GAAN,CACb,GAAEZ,MAAM,CAACa,MAAO,4BADH,EAEd;QACIC,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYP;QADtB;MADb,CAFc,CAAlB;MASA,KAAKF,SAAL,GAAiBK,GAAG,CAACP,IAAJ,CAASY,MAAT,CAAgBV,SAAjC,CAXA,CAYA;IACJ,CAbA,CAaE,OAAOW,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACJ;EACH,CA5BU;;EA6BXG,QAAQ,EAAElB,UAAU,CAAC;IAAEmB,MAAM,EAAE;EAAV,CAAD,CA7BT;EA8BXC,OAAO,EAAE;IACL,MAAMC,YAAN,GAAqB;MACjB,MAAMf,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMV,KAAK,CAACuB,IAAN,CACb,GAAExB,MAAM,CAACa,MAAO,yBADH,EAEd;QACIY,QAAQ,EAAE,KAAKJ,MAAL,CAAYK,GAD1B;QAEIrB,QAAQ,EAAE,KAAKA,QAFnB,CAGI;QACA;;MAJJ,CAFc,EAQd;QACIS,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYP;QADtB;MADb,CARc,CAAlB;MAeA,KAAKmB,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC;QAC7BC,SAAS,EAAElB,GAAG,CAACP,IAAJ,CAAS0B,MADS;QAE7BC,OAAO,EAAEpB,GAAG,CAACP,IAAJ,CAAS2B;MAFW,CAAjC;IAIH;;EAtBI;AA9BE,CAAf","names":["config","axios","mapGetters","name","data","teamName","teamsName","created","token","localStorage","getItem","res","get","domain","headers","Authorization","result","error","console","log","computed","leader","methods","handleAssign","post","leaderId","_id","$store","dispatch","isSuccess","status","message"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\internship-management-main2\\frontend\\src\\components\\Ministry\\LeaderManagement\\AssignForm.vue"],"sourcesContent":["<template>\n    <div class=\"assgn-form\">\n        <!-- Modal -->\n        <div\n            class=\"modal fade\"\n            id=\"assignModal\"\n            tabindex=\"-1\"\n            aria-labelledby=\"exampleModalLabel\"\n            aria-hidden=\"true\"\n        >\n            <div class=\"modal-dialog modal-dialog-centered\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h1\n                            class=\"modal-title fs-4 fw-bold\"\n                            id=\"exampleModalLabel\"\n                        >\n                            Phân công Adviser\n                        </h1>\n                        <button\n                            type=\"button\"\n                            class=\"btn-close\"\n                            data-bs-dismiss=\"modal\"\n                            aria-label=\"Close\"\n                        ></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Tên Adviser</label\n                            >\n                            <input\n                                type=\"email\"\n                                class=\"form-control\"\n                                id=\"name\"\n                                disabled\n                                :placeholder=\"leader.name\"\n                            />\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"username\" class=\"form-label fw-bold\"\n                                >Mã số Adviser</label\n                            >\n                            <input\n                                type=\"email\"\n                                class=\"form-control\"\n                                id=\"username\"\n                                disabled\n                                :placeholder=\"leader.username\"\n                            />\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Domain phân công</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"teamName\"\n                            >\n                                <option disabled value=\"\">Tên Domain</option>\n                                <option\n                                    v-for=\"teamName in teamsName\"\n                                    :key=\"teamName\"\n                                    :value=\"teamName\"\n                                >\n                                    {{ teamName }}\n                                </option>\n                            </select>\n                        </div>\n                        <!-- <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Học kỳ</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"semester\"\n                            >\n                                <option disabled value=\"\">Học kỳ</option>\n\n                                <option value=\"1\">1</option>\n                                <option value=\"2\">2</option>\n                                <option value=\"3\">Hè</option>\n                            </select>\n                        </div> -->\n                        <!-- <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Niên khóa</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"schoolYear\"\n                            >\n                                <option disabled value=\"\">Niên khóa</option>\n\n                                <option\n                                    v-for=\"year in schoolYears\"\n                                    :key=\"year\"\n                                    :value=\"year\"\n                                >\n                                    {{ year }}\n                                </option>\n                            </select>\n                        </div> -->\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-secondary\"\n                            data-bs-dismiss=\"modal\"\n                        >\n                            Đóng\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-primary\"\n                            data-bs-dismiss=\"modal\"\n                            @click=\"handleAssign\"\n                            :disabled=\"!teamName\"\n                        >\n                            Phân công\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n    name: \"AssignForm\",\n    data() {\n        return {\n            teamName: \"\",\n            // semester: \"\",\n            // schoolYear: \"\",\n            teamsName: [],\n            // schoolYears: [],\n        };\n    },\n    async created() {\n        try {\n            const token = localStorage.getItem(\"token\");\n            const res = await axios.get(\n                `${config.domain}/ministry/get-infor-assign`,\n                {\n                    headers: {\n                        Authorization: \"Bearer \" + token,\n                    },\n                }\n            );\n\n            this.teamsName = res.data.result.teamsName;\n            // this.schoolYears = res.data.result.schoolYears;\n        } catch (error) {\n            console.log(error);\n        }\n    },\n    computed: mapGetters({ leader: \"getLeaderDetail\" }),\n    methods: {\n        async handleAssign() {\n            const token = localStorage.getItem(\"token\");\n            const res = await axios.post(\n                `${config.domain}/ministry/assign-leader`,\n                {\n                    leaderId: this.leader._id,\n                    teamName: this.teamName,\n                    // semester: this.semester,\n                    // schoolYear: this.schoolYear,\n                },\n                {\n                    headers: {\n                        Authorization: \"Bearer \" + token,\n                    },\n                }\n            );\n\n            this.$store.dispatch(\"setToast\", {\n                isSuccess: res.data.status,\n                message: res.data.message,\n            });\n        },\n    },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}