{"ast":null,"code":"import config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AssignForm\",\n\n  data() {\n    return {\n      // className: \"\",\n      semester: \"\",\n      schoolYear: \"\",\n      classesName: [1, 2, 3, 4, 5],\n      schoolYears: []\n    };\n  },\n\n  async created() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(`${config.domain}/ministry/get-infor-assign`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.classesName = res.data.result.classesName;\n      this.schoolYears = res.data.result.schoolYears;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  computed: mapGetters({\n    leader: \"getLeaderDetail\"\n  }),\n  methods: {\n    async handleAssign() {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.post(`${config.domain}/ministry/assign-leader`, {\n        leaderId: this.leader._id,\n        className: this.className,\n        semester: this.semester,\n        schoolYear: this.schoolYear\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.$store.dispatch(\"setToast\", {\n        isSuccess: res.data.status,\n        message: res.data.message\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoIA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,eAAe;EACXC,IAAI,EAAE,YADK;;EAEXC,IAAI,GAAG;IACH,OAAO;MACH;MACAC,QAAQ,EAAE,EAFP;MAGHC,UAAU,EAAE,EAHT;MAIHC,WAAW,EAAE,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAJV;MAKHC,WAAW,EAAE;IALV,CAAP;EAOH,CAVU;;EAWX,MAAMC,OAAN,GAAgB;IACZ,IAAI;MACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMZ,KAAK,CAACa,GAAN,CACb,GAAEd,MAAM,CAACe,MAAO,4BADH,EAEd;QACIC,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYP;QADtB;MADb,CAFc,CAAlB;MASA,KAAKH,WAAL,GAAmBM,GAAG,CAACT,IAAJ,CAASc,MAAT,CAAgBX,WAAnC;MACA,KAAKC,WAAL,GAAmBK,GAAG,CAACT,IAAJ,CAASc,MAAT,CAAgBV,WAAnC;IACJ,CAbA,CAaE,OAAOW,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACJ;EACH,CA5BU;;EA6BXG,QAAQ,EAAEpB,UAAU,CAAC;IAAEqB,MAAM,EAAE;EAAV,CAAD,CA7BT;EA8BXC,OAAO,EAAE;IACL,MAAMC,YAAN,GAAqB;MACjB,MAAMf,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMZ,KAAK,CAACyB,IAAN,CACb,GAAE1B,MAAM,CAACe,MAAO,yBADH,EAEd;QACIY,QAAQ,EAAE,KAAKJ,MAAL,CAAYK,GAD1B;QAEIC,SAAS,EAAE,KAAKA,SAFpB;QAGIxB,QAAQ,EAAE,KAAKA,QAHnB;QAIIC,UAAU,EAAE,KAAKA;MAJrB,CAFc,EAQd;QACIU,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYP;QADtB;MADb,CARc,CAAlB;MAeA,KAAKoB,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC;QAC7BC,SAAS,EAAEnB,GAAG,CAACT,IAAJ,CAAS6B,MADS;QAE7BC,OAAO,EAAErB,GAAG,CAACT,IAAJ,CAAS8B;MAFW,CAAjC;IAIH;;EAtBI;AA9BE,CAAf","names":["config","axios","mapGetters","name","data","semester","schoolYear","classesName","schoolYears","created","token","localStorage","getItem","res","get","domain","headers","Authorization","result","error","console","log","computed","leader","methods","handleAssign","post","leaderId","_id","className","$store","dispatch","isSuccess","status","message"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Downloads\\internship-management-main\\internship-management-main\\frontend\\src\\components\\Ministry\\LeaderManagement\\AssignForm.vue"],"sourcesContent":["<template>\n    <div class=\"assgn-form\">\n        <!-- Modal -->\n        <div\n            class=\"modal fade\"\n            id=\"assignModal\"\n            tabindex=\"-1\"\n            aria-labelledby=\"exampleModalLabel\"\n            aria-hidden=\"true\"\n        >\n            <div class=\"modal-dialog modal-dialog-centered\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h1\n                            class=\"modal-title fs-4 fw-bold\"\n                            id=\"exampleModalLabel\"\n                        >\n                            Phân công giảng viên\n                        </h1>\n                        <button\n                            type=\"button\"\n                            class=\"btn-close\"\n                            data-bs-dismiss=\"modal\"\n                            aria-label=\"Close\"\n                        ></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Tên giảng viên</label\n                            >\n                            <input\n                                type=\"email\"\n                                class=\"form-control\"\n                                id=\"name\"\n                                disabled\n                                :placeholder=\"leader.name\"\n                            />\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"username\" class=\"form-label fw-bold\"\n                                >Mã số giảng viên</label\n                            >\n                            <input\n                                type=\"email\"\n                                class=\"form-control\"\n                                id=\"username\"\n                                disabled\n                                :placeholder=\"leader.username\"\n                            />\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Lớp phân công</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"className\"\n                            >\n                                <option disabled value=\"\">Chọn lớp</option>\n                                <option\n                                    v-for=\"className in classesName\"\n                                    :key=\"className\"\n                                    :value=\"className\"\n                                >\n                                    {{ className }}\n                                </option>\n                            </select>\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Học kỳ</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"semester\"\n                            >\n                                <option disabled value=\"\">Học kỳ</option>\n\n                                <option value=\"1\">1</option>\n                                <option value=\"2\">2</option>\n                                <option value=\"3\">Hè</option>\n                            </select>\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"name\" class=\"form-label fw-bold\"\n                                >Niên khóa</label\n                            >\n                            <select\n                                class=\"form-select\"\n                                aria-label=\"select example\"\n                                v-model=\"schoolYear\"\n                            >\n                                <option disabled value=\"\">Niên khóa</option>\n\n                                <option\n                                    v-for=\"year in schoolYears\"\n                                    :key=\"year\"\n                                    :value=\"year\"\n                                >\n                                    {{ year }}\n                                </option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-secondary\"\n                            data-bs-dismiss=\"modal\"\n                        >\n                            Đóng\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-primary\"\n                            data-bs-dismiss=\"modal\"\n                            @click=\"handleAssign\"\n                            :disabled=\"!className || !semester || !schoolYear\"\n                        >\n                            Phân công\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n    name: \"AssignForm\",\n    data() {\n        return {\n            // className: \"\",\n            semester: \"\",\n            schoolYear: \"\",\n            classesName: [1,2,3,4,5],\n            schoolYears: [],\n        };\n    },\n    async created() {\n        try {\n            const token = localStorage.getItem(\"token\");\n            const res = await axios.get(\n                `${config.domain}/ministry/get-infor-assign`,\n                {\n                    headers: {\n                        Authorization: \"Bearer \" + token,\n                    },\n                }\n            );\n\n            this.classesName = res.data.result.classesName;\n            this.schoolYears = res.data.result.schoolYears;\n        } catch (error) {\n            console.log(error);\n        }\n    },\n    computed: mapGetters({ leader: \"getLeaderDetail\" }),\n    methods: {\n        async handleAssign() {\n            const token = localStorage.getItem(\"token\");\n            const res = await axios.post(\n                `${config.domain}/ministry/assign-leader`,\n                {\n                    leaderId: this.leader._id,\n                    className: this.className,\n                    semester: this.semester,\n                    schoolYear: this.schoolYear,\n                },\n                {\n                    headers: {\n                        Authorization: \"Bearer \" + token,\n                    },\n                }\n            );\n\n            this.$store.dispatch(\"setToast\", {\n                isSuccess: res.data.status,\n                message: res.data.message,\n            });\n        },\n    },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}