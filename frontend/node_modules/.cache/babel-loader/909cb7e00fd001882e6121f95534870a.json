{"ast":null,"code":"import config from \"@/config/index.js\";\nimport { mapGetters } from \"vuex\";\nimport AvatarComponent from \"../components/GlobalComponent/AvatarComponent.vue\";\nexport default {\n  name: \"StudentInfor\",\n  components: {\n    AvatarComponent\n  },\n\n  data() {\n    return {\n      changePwd: false,\n      newPassword: \"\",\n      password: \"\",\n      fileName: \"\"\n    };\n  },\n\n  computed: { ...mapGetters({\n      account: \"getAccount\"\n    })\n  },\n\n  async created() {\n    await this.$store.dispatch(\"setAccount\");\n\n    if (this.$route.params.status == \"not-update\") {\n      this.$store.commit(\"SET_TOAST\", {\n        message: \"Mật khẩu hiện tại không chính xác!\",\n        isSuccess: false\n      });\n    } else if (this.$route.params.status == \"success\") {\n      this.$store.commit(\"SET_TOAST\", {\n        message: \"Cập nhật thành công!\",\n        isSuccess: true\n      });\n    }\n  },\n\n  mounted() {\n    const nav = document.querySelector(\"nav\");\n    nav.scrollIntoView();\n  },\n\n  methods: {\n    async updateProfile(e) {\n      try {\n        e.target.action = `${config.domain}/update-profile`;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    handleReset() {\n      this.account.email = \"\";\n      this.account.phoneNumber = \"\";\n      this.newPassword = \"\";\n      this.password = \"\";\n    },\n\n    setNameFile(e) {\n      this.fileName = e.target.value.split(\"\\\\\")[2];\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0IA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,eAAP,MAA4B,mDAA5B;AAEA,eAAe;EACXC,IAAI,EAAE,cADK;EAEXC,UAAU,EAAE;IAAEF;EAAF,CAFD;;EAGXG,IAAI,GAAG;IACH,OAAO;MACHC,SAAS,EAAE,KADR;MAEHC,WAAW,EAAE,EAFV;MAGHC,QAAQ,EAAE,EAHP;MAIHC,QAAQ,EAAE;IAJP,CAAP;EAMH,CAVU;;EAWXC,QAAQ,EAAE,EACN,GAAGT,UAAU,CAAC;MAAEU,OAAO,EAAE;IAAX,CAAD;EADP,CAXC;;EAcX,MAAMC,OAAN,GAAgB;IACZ,MAAM,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,YAArB,CAAN;;IAEA,IAAI,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,MAAnB,IAA6B,YAAjC,EAA+C;MAC3C,KAAKJ,MAAL,CAAYK,MAAZ,CAAmB,WAAnB,EAAgC;QAC5BC,OAAO,EAAE,oCADmB;QAE5BC,SAAS,EAAE;MAFiB,CAAhC;IAIJ,CALA,MAKO,IAAI,KAAKL,MAAL,CAAYC,MAAZ,CAAmBC,MAAnB,IAA6B,SAAjC,EAA4C;MAC/C,KAAKJ,MAAL,CAAYK,MAAZ,CAAmB,WAAnB,EAAgC;QAC5BC,OAAO,EAAE,sBADmB;QAE5BC,SAAS,EAAE;MAFiB,CAAhC;IAIJ;EACH,CA5BU;;EA6BXC,OAAO,GAAG;IACN,MAAMC,GAAE,GAAIC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;IACAF,GAAG,CAACG,cAAJ;EACH,CAhCU;;EAiCXC,OAAO,EAAE;IACL,MAAMC,aAAN,CAAoBC,CAApB,EAAuB;MACnB,IAAI;QACAA,CAAC,CAACC,MAAF,CAASC,MAAT,GAAmB,GAAE9B,MAAM,CAAC+B,MAAO,iBAAnC;MACJ,CAFA,CAEE,OAAOC,KAAP,EAAc;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACJ;IACH,CAPI;;IAQLG,WAAW,GAAG;MACV,KAAKxB,OAAL,CAAayB,KAAb,GAAqB,EAArB;MACA,KAAKzB,OAAL,CAAa0B,WAAb,GAA2B,EAA3B;MACA,KAAK9B,WAAL,GAAmB,EAAnB;MACA,KAAKC,QAAL,GAAgB,EAAhB;IACH,CAbI;;IAcL8B,WAAW,CAACV,CAAD,EAAI;MACX,KAAKnB,QAAL,GAAgBmB,CAAC,CAACC,MAAF,CAASU,KAAT,CAAeC,KAAf,CAAqB,IAArB,EAA2B,CAA3B,CAAhB;IACH;;EAhBI;AAjCE,CAAf","names":["config","mapGetters","AvatarComponent","name","components","data","changePwd","newPassword","password","fileName","computed","account","created","$store","dispatch","$route","params","status","commit","message","isSuccess","mounted","nav","document","querySelector","scrollIntoView","methods","updateProfile","e","target","action","domain","error","console","log","handleReset","email","phoneNumber","setNameFile","value","split"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Downloads\\internship-management-main\\internship-management-main\\frontend\\src\\views\\UpdateInfor.vue"],"sourcesContent":["<template>\n    <div class=\"student-update my-5 animate__animated animate__fadeIn\">\n        <h2 class=\"update__title text-center fw-bold\" style=\"color: #555555\">\n            Cập nhật thông tin cá nhân\n        </h2>\n\n        <div class=\"form-update row col-6 mt-5 p-4 rounded-3 m-auto\">\n            <div class=\"col-4 text-center\">\n                <AvatarComponent\n                    class=\"mt-5 mb-3\"\n                    :urlAvatar=\"account.urlAvatar\"\n                />\n                <h5 class=\"fw-bold\">{{ account.name }}</h5>\n                <h5 class=\"fw-bold\">{{ account.username }}</h5>\n            </div>\n            <form\n                class=\"form-update-infor ms-5 col-6\"\n                enctype=\"multipart/form-data\"\n                method=\"post\"\n                @submit=\"updateProfile\"\n            >\n                <input\n                    class=\"form-control d-none\"\n                    name=\"accountId\"\n                    v-model=\"account.id\"\n                />\n                <input\n                    class=\"form-control d-none\"\n                    name=\"urlAvatar\"\n                    v-model=\"account.urlAvatar\"\n                />\n                <div class=\"mb-4\">\n                    <label for=\"email\" class=\"form-label py-1\"\n                        ><strong>Email</strong></label\n                    >\n                    <input\n                        type=\"email\"\n                        class=\"form-control\"\n                        id=\"email\"\n                        aria-describedby=\"emailHelp\"\n                        name=\"email\"\n                        v-model=\"account.email\"\n                        required\n                    />\n                </div>\n                <div class=\"mb-4\">\n                    <label for=\"phone\" class=\"form-label py-1\"\n                        ><strong>Số điện thoại</strong></label\n                    >\n                    <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        id=\"phone\"\n                        aria-describedby=\"name\"\n                        name=\"phoneNumber\"\n                        v-model=\"account.phoneNumber\"\n                        required\n                    />\n                </div>\n\n                <div class=\"mb-4 d-flex align-items-center\">\n                    <input\n                        v-model=\"changePwd\"\n                        type=\"checkbox\"\n                        style=\"width: 18px; height: 18px\"\n                    />\n                    <span class=\"ms-2\">Thay đổi mật khẩu</span>\n                </div>\n                <div class=\"mb-4\" v-if=\"changePwd\">\n                    <label for=\"phone\" class=\"form-label py-1\"\n                        ><strong>Mật khẩu hiện tại</strong></label\n                    >\n                    <input\n                        type=\"password\"\n                        class=\"form-control\"\n                        id=\"password\"\n                        aria-describedby=\"name\"\n                        name=\"password\"\n                        v-model=\"password\"\n                        required\n                    />\n                </div>\n                <div class=\"mb-4\" v-if=\"changePwd\">\n                    <label for=\"phone\" class=\"form-label py-1\"\n                        ><strong>Mật khẩu mới</strong></label\n                    >\n                    <input\n                        type=\"password\"\n                        class=\"form-control\"\n                        id=\"newPassword\"\n                        aria-describedby=\"name\"\n                        name=\"newPassword\"\n                        v-model=\"newPassword\"\n                        required\n                    />\n                </div>\n\n                <div class=\"mb-4\">\n                    <label class=\"form-label py-1\"\n                        ><strong>Cập nhật ảnh đại diện</strong></label\n                    >\n                    <label\n                        type=\"button\"\n                        class=\"btn btn-outline-secondary col-12\"\n                        for=\"avatar\"\n                    >\n                        <i class=\"bi bi-cloud-arrow-up-fill\"></i>\n                        Tải ảnh lên\n                    </label>\n                    <input\n                        type=\"file\"\n                        name=\"avatar\"\n                        id=\"avatar\"\n                        accept=\"image/png, image/jpeg\"\n                        @change=\"setNameFile\"\n                        class=\"d-none\"\n                    />\n                    <div\n                        class=\"col-12 my-2\"\n                        style=\"text-overflow: ellipsis; overflow: hidden\"\n                    >\n                        {{ fileName }}\n                    </div>\n                </div>\n                <div class=\"form__footer d-flex justify-content-around mt-4\">\n                    <button class=\"btn btn-danger\" @click=\"handleReset\">\n                        <i class=\"bi bi-arrow-clockwise\"></i>&nbsp;Đặt lại\n                    </button>\n                    <button type=\"submit\" class=\"btn btn-primary btn-save\">\n                        <i class=\"bi bi-calendar4\"></i>&nbsp; Lưu\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport config from \"@/config/index.js\";\nimport { mapGetters } from \"vuex\";\nimport AvatarComponent from \"../components/GlobalComponent/AvatarComponent.vue\";\n\nexport default {\n    name: \"StudentInfor\",\n    components: { AvatarComponent },\n    data() {\n        return {\n            changePwd: false,\n            newPassword: \"\",\n            password: \"\",\n            fileName: \"\",\n        };\n    },\n    computed: {\n        ...mapGetters({ account: \"getAccount\" }),\n    },\n    async created() {\n        await this.$store.dispatch(\"setAccount\");\n\n        if (this.$route.params.status == \"not-update\") {\n            this.$store.commit(\"SET_TOAST\", {\n                message: \"Mật khẩu hiện tại không chính xác!\",\n                isSuccess: false,\n            });\n        } else if (this.$route.params.status == \"success\") {\n            this.$store.commit(\"SET_TOAST\", {\n                message: \"Cập nhật thành công!\",\n                isSuccess: true,\n            });\n        }\n    },\n    mounted() {\n        const nav = document.querySelector(\"nav\");\n        nav.scrollIntoView();\n    },\n    methods: {\n        async updateProfile(e) {\n            try {\n                e.target.action = `${config.domain}/update-profile`;\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        handleReset() {\n            this.account.email = \"\";\n            this.account.phoneNumber = \"\";\n            this.newPassword = \"\";\n            this.password = \"\";\n        },\n        setNameFile(e) {\n            this.fileName = e.target.value.split(\"\\\\\")[2];\n        },\n    },\n};\n</script>\n\n<style scoped>\n.btn-save {\n    min-width: 70px;\n}\n\n.form-update {\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}