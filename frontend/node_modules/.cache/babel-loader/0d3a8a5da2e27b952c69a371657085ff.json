{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport config from \"@/config\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport Overview from \"@/components/Adviser/Manage/Overview.vue\";\nimport DetailFreelancer from \"@/components/Adviser/Manage/DetailFreelancer.vue\";\nimport TitleStructure from \"@/components/GlobalComponent/TitleStructure.vue\";\nimport FreelancerFilter from \"@/components/FreelancerFilter/FreelancerFilter.vue\";\nimport FreelancerItem from \"../../components/Adviser/Manage/FreelancerItem.vue\";\nexport default {\n  name: \"AdviserManage\",\n  components: {\n    Overview,\n    DetailFreelancer,\n    FreelancerFilter,\n    TitleStructure,\n    FreelancerItem\n  },\n  computed: { ...mapGetters({\n      account: \"getAccount\",\n      currentList: \"getCurrentList\"\n    })\n  },\n  methods: mapActions([\"setAccount\"]),\n\n  async created() {\n    //Tao lai account khi refresh\n    await this.setAccount();\n    const token = localStorage.getItem(\"token\"); // Lay danh sach lop <classManagement> cua giang vien!\n\n    const response = await axios.get(`${config.domain}/adviser/get-class-list`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      },\n      params: {\n        adviserId: this.account.id\n      }\n    });\n    const classList = response.data.result; //Lay ten lop tu danh sach lop cua giang vien!\n\n    const domainName = [];\n    classList.forEach(classManagement => {\n      if (!domainName.includes(classManagement.domainName)) {\n        domainName.push(classManagement.domainName);\n      }\n    });\n    this.$store.commit(\"SET_CLASS_NAME\", domainName); //Lay danh sach sinh vien tu ten lop cua giang vien\n\n    const freelancerList = [];\n\n    for (let i = 0; i < domainName.length; ++i) {\n      const response = await axios.get(`${config.domain}/adviser/get-freelancer-list`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          domainName: domainName[i]\n        }\n      });\n      const tempt = response.data.result;\n      freelancerList.push(...tempt);\n    }\n\n    this.$store.commit(\"SET_FREELANCER_LIST\", freelancerList);\n    this.$store.commit(\"SET_CURRENT_LIST\", freelancerList);\n  },\n\n  mounted() {\n    // Dong cac detail khi accordion khong mo.\n    const accordion = document.querySelector(\".accordion-collapse.show\");\n\n    if (!accordion) {\n      this.$store.commit(\"CLOSE_DETAIL_FREELANCER\");\n    }\n  }\n\n};","map":{"version":3,"mappings":";AAwCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,MAAvC;AACA,OAAOC,QAAP,MAAqB,0CAArB;AACA,OAAOC,gBAAP,MAA6B,kDAA7B;AACA,OAAOC,cAAP,MAA2B,iDAA3B;AACA,OAAOC,gBAAP,MAA6B,oDAA7B;AACA,OAAOC,cAAP,MAA2B,oDAA3B;AAEA,eAAe;EACbC,IAAI,EAAE,eADO;EAEbC,UAAU,EAAE;IACVN,QADU;IAEVC,gBAFU;IAGVE,gBAHU;IAIVD,cAJU;IAKVE;EALU,CAFC;EASbG,QAAQ,EAAE,EACR,GAAGT,UAAU,CAAC;MAAEU,OAAO,EAAE,YAAX;MAAyBC,WAAW,EAAE;IAAtC,CAAD;EADL,CATG;EAYbC,OAAO,EAAEX,UAAU,CAAC,CAAC,YAAD,CAAD,CAZN;;EAcb,MAAMY,OAAN,GAAgB;IACd;IACA,MAAM,KAAKC,UAAL,EAAN;IAEA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAJc,CAMd;;IACA,MAAMC,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAN,CACpB,GAAEpB,MAAM,CAACqB,MAAO,yBADI,EAErB;MACEC,OAAO,EAAE;QAAEC,aAAa,EAAE,YAAYP;MAA7B,CADX;MAEEQ,MAAM,EAAE;QAAEC,SAAS,EAAE,KAAKd,OAAL,CAAae;MAA1B;IAFV,CAFqB,CAAvB;IAOA,MAAMC,SAAQ,GAAIR,QAAQ,CAACS,IAAT,CAAcC,MAAhC,CAdc,CAgBd;;IACA,MAAMC,UAAS,GAAI,EAAnB;IACAH,SAAS,CAACI,OAAV,CAAmBC,eAAD,IAAqB;MACrC,IAAI,CAACF,UAAU,CAACG,QAAX,CAAoBD,eAAe,CAACF,UAApC,CAAL,EAAsD;QACpDA,UAAU,CAACI,IAAX,CAAgBF,eAAe,CAACF,UAAhC;MACF;IACD,CAJD;IAKA,KAAKK,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqCN,UAArC,EAvBc,CAyBd;;IACA,MAAMO,cAAa,GAAI,EAAvB;;IACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIR,UAAU,CAACS,MAA/B,EAAuC,EAAED,CAAzC,EAA4C;MAC1C,MAAMnB,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAN,CACpB,GAAEpB,MAAM,CAACqB,MAAO,8BADI,EAErB;QACEC,OAAO,EAAE;UAAEC,aAAa,EAAE,YAAYP;QAA7B,CADX;QAEEQ,MAAM,EAAE;UAAEM,UAAU,EAAEA,UAAU,CAACQ,CAAD;QAAxB;MAFV,CAFqB,CAAvB;MAOA,MAAME,KAAI,GAAIrB,QAAQ,CAACS,IAAT,CAAcC,MAA5B;MACAQ,cAAc,CAACH,IAAf,CAAoB,GAAGM,KAAvB;IACF;;IAEA,KAAKL,MAAL,CAAYC,MAAZ,CAAmB,qBAAnB,EAA0CC,cAA1C;IACA,KAAKF,MAAL,CAAYC,MAAZ,CAAmB,kBAAnB,EAAuCC,cAAvC;EACD,CAvDY;;EAwDbI,OAAO,GAAG;IACR;IACA,MAAMC,SAAQ,GAAIC,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,CAAlB;;IACA,IAAI,CAACF,SAAL,EAAgB;MACd,KAAKP,MAAL,CAAYC,MAAZ,CAAmB,yBAAnB;IACF;EACD;;AA9DY,CAAf","names":["axios","config","mapGetters","mapActions","Overview","DetailFreelancer","TitleStructure","FreelancerFilter","FreelancerItem","name","components","computed","account","currentList","methods","created","setAccount","token","localStorage","getItem","response","get","domain","headers","Authorization","params","adviserId","id","classList","data","result","domainName","forEach","classManagement","includes","push","$store","commit","freelancerList","i","length","tempt","mounted","accordion","document","querySelector"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\SUPLANCER\\frontend\\src\\views\\adviser\\AdviserManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"adviser-manage p-4\">\r\n    <div class=\"col-12 d-flex container\">\r\n      <TitleStructure :title=\"`Danh sách Freelancer`\" class=\"col-6 me-4\">\r\n        <!-- <img\r\n                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/OOjs_UI_icon_search-ltr.svg/1200px-OOjs_UI_icon_search-ltr.svg.png\"\r\n                    alt=\"Lọc sinh viên\"\r\n                    data-bs-toggle=\"modal\"\r\n                    data-bs-target=\"#FreelancerFilter\"\r\n                    class=\"filter-icon dashboard__img\"\r\n                /> -->\r\n      </TitleStructure>\r\n      <TitleStructure :title=\"`Tổng quan`\" class=\"col-6 title-detail\">\r\n      </TitleStructure>\r\n    </div>\r\n    <div class=\"adviser-manage__content container\">\r\n      <div class=\"row\">\r\n        <div class=\"adviser-freelancer-list col-6\">\r\n          <div class=\"adviser-freelancer-item\">\r\n            <FreelancerItem\r\n              v-for=\"(freelancer, index) in currentList\"\r\n              :key=\"index\"\r\n              :index=\"`id${index}`\"\r\n              :freelancer=\"freelancer\"\r\n              class=\"me-3\"\r\n            >\r\n            </FreelancerItem>\r\n          </div>\r\n        </div>\r\n        <div class=\"view-detail col-6 flex-grow-1\">\r\n          <Overview />\r\n          <DetailFreelancer></DetailFreelancer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <FreelancerFilter />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport Overview from \"@/components/Adviser/Manage/Overview.vue\";\r\nimport DetailFreelancer from \"@/components/Adviser/Manage/DetailFreelancer.vue\";\r\nimport TitleStructure from \"@/components/GlobalComponent/TitleStructure.vue\";\r\nimport FreelancerFilter from \"@/components/FreelancerFilter/FreelancerFilter.vue\";\r\nimport FreelancerItem from \"../../components/Adviser/Manage/FreelancerItem.vue\";\r\n\r\nexport default {\r\n  name: \"AdviserManage\",\r\n  components: {\r\n    Overview,\r\n    DetailFreelancer,\r\n    FreelancerFilter,\r\n    TitleStructure,\r\n    FreelancerItem,\r\n  },\r\n  computed: {\r\n    ...mapGetters({ account: \"getAccount\", currentList: \"getCurrentList\" }),\r\n  },\r\n  methods: mapActions([\"setAccount\"]),\r\n\r\n  async created() {\r\n    //Tao lai account khi refresh\r\n    await this.setAccount();\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    // Lay danh sach lop <classManagement> cua giang vien!\r\n    const response = await axios.get(\r\n      `${config.domain}/adviser/get-class-list`,\r\n      {\r\n        headers: { Authorization: \"Bearer \" + token },\r\n        params: { adviserId: this.account.id },\r\n      }\r\n    );\r\n    const classList = response.data.result;\r\n\r\n    //Lay ten lop tu danh sach lop cua giang vien!\r\n    const domainName = [];\r\n    classList.forEach((classManagement) => {\r\n      if (!domainName.includes(classManagement.domainName)) {\r\n        domainName.push(classManagement.domainName);\r\n      }\r\n    });\r\n    this.$store.commit(\"SET_CLASS_NAME\", domainName);\r\n\r\n    //Lay danh sach sinh vien tu ten lop cua giang vien\r\n    const freelancerList = [];\r\n    for (let i = 0; i < domainName.length; ++i) {\r\n      const response = await axios.get(\r\n        `${config.domain}/adviser/get-freelancer-list`,\r\n        {\r\n          headers: { Authorization: \"Bearer \" + token },\r\n          params: { domainName: domainName[i] },\r\n        }\r\n      );\r\n      const tempt = response.data.result;\r\n      freelancerList.push(...tempt);\r\n    }\r\n\r\n    this.$store.commit(\"SET_FREELANCER_LIST\", freelancerList);\r\n    this.$store.commit(\"SET_CURRENT_LIST\", freelancerList);\r\n  },\r\n  mounted() {\r\n    // Dong cac detail khi accordion khong mo.\r\n    const accordion = document.querySelector(\".accordion-collapse.show\");\r\n    if (!accordion) {\r\n      this.$store.commit(\"CLOSE_DETAIL_FREELANCER\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adviser-freelancer-item {\r\n  height: 420px;\r\n  overflow-y: scroll;\r\n}\r\n.view-detail {\r\n  width: 49%;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}