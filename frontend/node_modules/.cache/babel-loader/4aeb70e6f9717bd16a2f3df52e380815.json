{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0e829e0a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"admin-manage animate__animated animate__fadeIn container\"\n};\nconst _hoisted_2 = {\n  class: \"type-account col-12 d-flex justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"list-account mt-5 table-wrapper-scroll-y my-custom-scrollbar\"\n};\nconst _hoisted_4 = {\n  class: \"table table-striped table-bordered\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"STT\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Tên tài khoản\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Tên người dùng\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Loại người dùng\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Tùy chọn\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"text-center\",\n  scope: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"text-center\"\n};\nconst _hoisted_8 = {\n  class: \"text-center\"\n};\nconst _hoisted_9 = {\n  class: \"text-center\"\n};\nconst _hoisted_10 = {\n  class: \"text-center\"\n};\nconst _hoisted_11 = [\"onClick\"];\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-pencil-square text-warning fs-5\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = [_hoisted_12];\nconst _hoisted_14 = [\"onClick\"];\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-archive-fill text-danger fs-5\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = [_hoisted_15];\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex justify-content-center mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#createAccount\",\n  style: {\n    \"background-color\": \"#2c542f\",\n    \"color\": \"white\",\n    \"font-size\": \"12px\",\n    \"border-radius\": \"0 !important\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-plus-circle-fill\"\n}), /*#__PURE__*/_createTextVNode(\"   Thêm tài khoản \")])], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TitleStructure = _resolveComponent(\"TitleStructure\");\n\n  const _component_EditInforAccount = _resolveComponent(\"EditInforAccount\");\n\n  const _component_CreateAccount = _resolveComponent(\"CreateAccount\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_TitleStructure, {\n    title: `Danh sách tài khoản`\n  }), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"all\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tất cả tài khoản \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"adviser\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tài khoản Adviser \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"freelancer\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tài khoản Freelancer \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"type__item btn\",\n    id: \"project\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.handleFilter && $options.handleFilter(...args))\n  }, \" Tài khoản đơn vị dự án \")]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.accountCurrent, (account, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"th\", _hoisted_6, _toDisplayString(index + 1), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(account.username), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_8, _toDisplayString(account.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(account.rule), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_10, [_createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#editInforAccount\",\n      onClick: $event => $options.handleSetUpdate(account)\n    }, _hoisted_13, 8\n    /* PROPS */\n    , _hoisted_11), _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn\",\n      onClick: $event => $options.handleDeleteAccount(account._id)\n    }, _hoisted_16, 8\n    /* PROPS */\n    , _hoisted_14)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])]), _hoisted_17, _createVNode(_component_EditInforAccount), _createVNode(_component_CreateAccount)]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","scope","_hoisted_12","_hoisted_15","type","style","_createElementBlock","_createVNode","_component_TitleStructure","title","id","onClick","$options","_hoisted_5","_Fragment","_renderList","_ctx","account","index","key","_toDisplayString","username","name","rule","_id","_hoisted_17","_component_EditInforAccount","_component_CreateAccount"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\SUPLANCER\\frontend\\src\\views\\admin\\AdminManage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"admin-manage animate__animated animate__fadeIn container\">\r\n      <TitleStructure :title=\"`Danh sách tài khoản`\"></TitleStructure>\r\n      <div class=\"type-account col-12 d-flex justify-content-center\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"type__item btn\"\r\n          id=\"all\"\r\n          @click=\"handleFilter\"\r\n        >\r\n          Tất cả tài khoản\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          class=\"type__item btn\"\r\n          id=\"adviser\"\r\n          @click=\"handleFilter\"\r\n        >\r\n          Tài khoản Adviser\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          class=\"type__item btn\"\r\n          id=\"freelancer\"\r\n          @click=\"handleFilter\"\r\n        >\r\n          Tài khoản Freelancer\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          class=\"type__item btn\"\r\n          id=\"project\"\r\n          @click=\"handleFilter\"\r\n        >\r\n          Tài khoản đơn vị dự án\r\n        </button>\r\n      </div>\r\n      <div class=\"list-account mt-5 table-wrapper-scroll-y my-custom-scrollbar\">\r\n        <table class=\"table table-striped table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-center\" scope=\"col\">STT</th>\r\n              <th class=\"text-center\" scope=\"col\">Tên tài khoản</th>\r\n              <th class=\"text-center\" scope=\"col\">Tên người dùng</th>\r\n              <th class=\"text-center\" scope=\"col\">Loại người dùng</th>\r\n              <th class=\"text-center\" scope=\"col\">Tùy chọn</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            <tr v-for=\"(account, index) in accountCurrent\" :key=\"index\">\r\n              <th class=\"text-center\" scope=\"row\">\r\n                {{ index + 1 }}\r\n              </th>\r\n              <td class=\"text-center\">{{ account.username }}</td>\r\n              <td class=\"text-center\">{{ account.name }}</td>\r\n              <td class=\"text-center\">{{ account.rule }}</td>\r\n              <td class=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn\"\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#editInforAccount\"\r\n                  @click=\"handleSetUpdate(account)\"\r\n                >\r\n                  <i class=\"bi bi-pencil-square text-warning fs-5\"></i>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn\"\r\n                  @click=\"handleDeleteAccount(account._id)\"\r\n                >\r\n                  <i class=\"bi bi-archive-fill text-danger fs-5\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center mt-3\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn\"\r\n        data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#createAccount\"\r\n        style=\"\r\n          background-color: #2c542f;\r\n          color: white;\r\n          font-size: 12px;\r\n          border-radius: 0 !important;\r\n        \"\r\n      >\r\n        <i class=\"bi bi-plus-circle-fill\"></i> &nbsp; Thêm tài khoản\r\n      </button>\r\n    </div>\r\n    <EditInforAccount></EditInforAccount>\r\n\r\n    <CreateAccount></CreateAccount>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config/index.js\";\r\nimport TitleStructure from \"../../components/GlobalComponent/TitleStructure.vue\";\r\nimport EditInforAccount from \"../../components/Admin/ManageAccount/EditInforAccount.vue\";\r\nimport CreateAccount from \"../../components/Admin/ManageAccount/CreateAccount.vue\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"AdminManage\",\r\n  components: { TitleStructure, EditInforAccount, CreateAccount },\r\n\r\n  data() {\r\n    return {\r\n      accountFreelancer: [],\r\n      accountAdviser: [],\r\n      accountProject: [],\r\n      accounts: [],\r\n      accountUpdate: {},\r\n    };\r\n  },\r\n  computed: mapGetters({ accountCurrent: \"getAccountCurrent\" }),\r\n  mounted() {\r\n    document.querySelectorAll(\".type__item\")[0].classList.add(\"active\");\r\n\r\n    const typeItems = document.querySelectorAll(\".type__item\");\r\n\r\n    [...typeItems].forEach(function (typeItem) {\r\n      typeItem.addEventListener(\"click\", handleBorderItem);\r\n    });\r\n\r\n    function handleBorderItem(event) {\r\n      [...typeItems].forEach((typeItem) => {\r\n        typeItem.classList.remove(\"active\");\r\n      });\r\n      event.target.classList.add(\"active\");\r\n    }\r\n  },\r\n  async created() {\r\n    const token = localStorage.getItem(\"token\");\r\n    const response = await axios.get(`${config.domain}/admin/get-all-account`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    });\r\n\r\n    this.accounts = response.data.result;\r\n\r\n    this.$store.commit(\"SET_ACCOUNT_CURRENT\", response.data.result);\r\n  },\r\n  methods: {\r\n    handleFilter(event) {\r\n      const filter = event.target.id;\r\n      if (filter == \"adviser\") {\r\n        this.$store.commit(\r\n          \"SET_ACCOUNT_CURRENT\",\r\n          this.accounts.filter((account) => account.rule == \"ADVISER\")\r\n        );\r\n      } else if (filter == \"freelancer\") {\r\n        this.$store.commit(\r\n          \"SET_ACCOUNT_CURRENT\",\r\n          this.accounts.filter((account) => account.rule == \"FREELANCER\")\r\n        );\r\n      } else if (filter == \"project\") {\r\n        this.$store.commit(\r\n          \"SET_ACCOUNT_CURRENT\",\r\n          this.accounts.filter((account) => account.rule == \"PROJECT\")\r\n        );\r\n      } else if (filter == \"all\") {\r\n        this.$store.commit(\"SET_ACCOUNT_CURRENT\", this.accounts);\r\n      }\r\n    },\r\n    async handleDeleteAccount(accountId) {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await axios.delete(`${config.domain}/admin/delete-account`, {\r\n        headers: { Authorization: \"Bearer \" + token },\r\n\r\n        data: {\r\n          accountId,\r\n        },\r\n      });\r\n\r\n      this.$store.commit(\"SET_TOAST\", {\r\n        message: res.data.message,\r\n        isSuccess: res.data.status,\r\n      });\r\n\r\n      if (res.data.status) {\r\n        this.$store.commit(\"DELETE_ACCOUNT_CURRENT\", accountId);\r\n      }\r\n    },\r\n\r\n    handleSetUpdate(account) {\r\n      this.$store.commit(\"SET_ACCOUNT_UPDATE\", account);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn.active {\r\n  border-color: none !important;\r\n}\r\n.type__item {\r\n  background-color: #95a800 !important;\r\n  border-color: none;\r\n  color: white;\r\n  font-size: 12px;\r\n  margin-left: 15px;\r\n}\r\n\r\n.type__item.active {\r\n  /* transition: border-bottom 0.5s linear;\r\n    border-bottom-color: #2f2fe6; */\r\n}\r\n\r\n.my-custom-scrollbar {\r\n  position: relative;\r\n  height: 400px;\r\n  overflow: auto;\r\n}\r\n.table-wrapper-scroll-y {\r\n  display: block;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}