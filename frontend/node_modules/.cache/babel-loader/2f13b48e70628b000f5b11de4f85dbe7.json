{"ast":null,"code":"import config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nimport AvatarComponent from \"../../components/GlobalComponent/AvatarComponent.vue\";\nexport default {\n  name: \"UpdateInfor\",\n  components: {\n    AvatarComponent\n  },\n\n  data() {\n    return {\n      changePwd: false,\n      newPassword: \"\",\n      password: \"\",\n      fileName: \"\"\n    };\n  },\n\n  computed: { ...mapGetters({\n      account: \"getAccount\"\n    })\n  },\n\n  async created() {\n    const token = localStorage.getItem(\"token\");\n    await this.$store.dispatch(\"setAccount\");\n    const res = await axios.get(`${config.domain}/project/get-project-infor`, {\n      params: {\n        projectId: this.account.id\n      },\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    this.$store.commit(\"SET_ACCOUNT\", res.data.result);\n\n    if (this.$route.params.status == \"not-update\") {\n      this.$store.commit(\"SET_TOAST\", {\n        message: \"Mật khẩu hiện tại không chính xác!\",\n        isSuccess: false\n      });\n    } else if (this.$route.params.status == \"success\") {\n      this.$store.commit(\"SET_TOAST\", {\n        message: \"Cập nhật thành công!\",\n        isSuccess: true\n      });\n    }\n  },\n\n  mounted() {\n    const nav = document.querySelector(\"nav\");\n    nav.scrollIntoView();\n  },\n\n  methods: {\n    async updateProfile(e) {\n      try {\n        e.target.action = `${config.domain}/update-profile`;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    handleReset() {\n      this.account.email = \"\";\n      this.account.phoneNumber = \"\";\n      this.newPassword = \"\";\n      this.password = \"\";\n      this.address = \"\";\n      this.message = \"\";\n    },\n\n    setNameFile(e) {\n      this.fileName = e.target.value.split(\"\\\\\")[2];\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6KA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,eAAP,MAA4B,sDAA5B;AAEA,eAAe;EACXC,IAAI,EAAE,aADK;EAEXC,UAAU,EAAE;IAAEF;EAAF,CAFD;;EAGXG,IAAI,GAAG;IACH,OAAO;MACHC,SAAS,EAAE,KADR;MAEHC,WAAW,EAAE,EAFV;MAGHC,QAAQ,EAAE,EAHP;MAIHC,QAAQ,EAAE;IAJP,CAAP;EAMH,CAVU;;EAWXC,QAAQ,EAAE,EACN,GAAGT,UAAU,CAAC;MAAEU,OAAO,EAAE;IAAX,CAAD;EADP,CAXC;;EAcX,MAAMC,OAAN,GAAgB;IACZ,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;IACA,MAAM,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,YAArB,CAAN;IAEA,MAAMC,GAAE,GAAI,MAAMlB,KAAK,CAACmB,GAAN,CACb,GAAEpB,MAAM,CAACqB,MAAO,4BADH,EAEd;MACIC,MAAM,EAAE;QAAEC,SAAS,EAAE,KAAKX,OAAL,CAAaY;MAA1B,CADZ;MAEIC,OAAO,EAAE;QAAEC,aAAa,EAAE,YAAYZ;MAA7B;IAFb,CAFc,CAAlB;IAQA,KAAKG,MAAL,CAAYU,MAAZ,CAAmB,aAAnB,EAAkCR,GAAG,CAACb,IAAJ,CAASsB,MAA3C;;IAEA,IAAI,KAAKC,MAAL,CAAYP,MAAZ,CAAmBQ,MAAnB,IAA6B,YAAjC,EAA+C;MAC3C,KAAKb,MAAL,CAAYU,MAAZ,CAAmB,WAAnB,EAAgC;QAC5BI,OAAO,EAAE,oCADmB;QAE5BC,SAAS,EAAE;MAFiB,CAAhC;IAIJ,CALA,MAKO,IAAI,KAAKH,MAAL,CAAYP,MAAZ,CAAmBQ,MAAnB,IAA6B,SAAjC,EAA4C;MAC/C,KAAKb,MAAL,CAAYU,MAAZ,CAAmB,WAAnB,EAAgC;QAC5BI,OAAO,EAAE,sBADmB;QAE5BC,SAAS,EAAE;MAFiB,CAAhC;IAIJ;EACH,CAvCU;;EAwCXC,OAAO,GAAG;IACN,MAAMC,GAAE,GAAIC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;IACAF,GAAG,CAACG,cAAJ;EACH,CA3CU;;EA4CXC,OAAO,EAAE;IACL,MAAMC,aAAN,CAAoBC,CAApB,EAAuB;MACnB,IAAI;QACAA,CAAC,CAACC,MAAF,CAASC,MAAT,GAAmB,GAAE1C,MAAM,CAACqB,MAAO,iBAAnC;MACJ,CAFA,CAEE,OAAOsB,KAAP,EAAc;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACJ;IACH,CAPI;;IAQLG,WAAW,GAAG;MACV,KAAKlC,OAAL,CAAamC,KAAb,GAAqB,EAArB;MACA,KAAKnC,OAAL,CAAaoC,WAAb,GAA2B,EAA3B;MACA,KAAKxC,WAAL,GAAmB,EAAnB;MACA,KAAKC,QAAL,GAAgB,EAAhB;MACA,KAAKwC,OAAL,GAAe,EAAf;MACA,KAAKlB,OAAL,GAAe,EAAf;IACH,CAfI;;IAgBLmB,WAAW,CAACV,CAAD,EAAI;MACX,KAAK9B,QAAL,GAAgB8B,CAAC,CAACC,MAAF,CAASU,KAAT,CAAeC,KAAf,CAAqB,IAArB,EAA2B,CAA3B,CAAhB;IACH;;EAlBI;AA5CE,CAAf","names":["config","axios","mapGetters","AvatarComponent","name","components","data","changePwd","newPassword","password","fileName","computed","account","created","token","localStorage","getItem","$store","dispatch","res","get","domain","params","projectId","id","headers","Authorization","commit","result","$route","status","message","isSuccess","mounted","nav","document","querySelector","scrollIntoView","methods","updateProfile","e","target","action","error","console","log","handleReset","email","phoneNumber","address","setNameFile","value","split"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Downloads\\internship-management-main\\internship-management-main\\frontend\\src\\components\\Company\\UpdateInfor.vue"],"sourcesContent":["<template>\n    <div class=\"freelancer-update my-5 animate__animated animate__fadeIn\">\n        <h2 class=\"update__title text-center fw-bold\" style=\"color: #555555\">\n            Cập nhật thông tin cá nhân\n        </h2>\n\n        <div class=\"form-update row col-6 rounded-3 m-auto p-3 mt-3\">\n            <div class=\"col-12 text-center mb-3\">\n                <AvatarComponent class=\"mb-3\" :urlAvatar=\"account.urlAvatar\" />\n                <h5 class=\"fw-bold\">\n                    {{ account.name }} - {{ account.username }}\n                </h5>\n            </div>\n            <form\n                class=\"form-update-infor col-12 row\"\n                enctype=\"multipart/form-data\"\n                method=\"post\"\n                @submit=\"updateProfile\"\n            >\n                <input\n                    class=\"form-control d-none\"\n                    name=\"accountId\"\n                    v-model=\"account.id\"\n                />\n                <input\n                    class=\"form-control d-none\"\n                    name=\"urlAvatar\"\n                    v-model=\"account.urlAvatar\"\n                />\n\n                <div class=\"col-6\">\n                    <div class=\"mb-4\">\n                        <label for=\"email\" class=\"form-label py-1\"\n                            ><strong>Email</strong></label\n                        >\n                        <input\n                            type=\"email\"\n                            class=\"form-control\"\n                            id=\"email\"\n                            aria-describedby=\"emailHelp\"\n                            name=\"email\"\n                            v-model=\"account.email\"\n                            required\n                        />\n                    </div>\n                    <div class=\"mb-4\">\n                        <label for=\"phone\" class=\"form-label py-1\"\n                            ><strong>Số điện thoại</strong></label\n                        >\n                        <input\n                            type=\"text\"\n                            class=\"form-control\"\n                            id=\"phone\"\n                            aria-describedby=\"name\"\n                            name=\"phoneNumber\"\n                            v-model=\"account.phoneNumber\"\n                            required\n                        />\n                    </div>\n                    <div class=\"mb-4\">\n                        <label for=\"address\" class=\"form-label py-1\"\n                            ><strong>Địa chỉ</strong></label\n                        >\n                        <textarea\n                            type=\"text\"\n                            class=\"form-control\"\n                            id=\"address\"\n                            aria-describedby=\"name\"\n                            name=\"address\"\n                            v-model=\"account.address\"\n                            required\n                            rows=\"2\"\n                            cols=\"70\"\n                        ></textarea>\n                    </div>\n                    <div class=\"mb-4\">\n                        <label class=\"form-label py-1 col-12\"\n                            ><strong>Cập nhật ảnh đại diện</strong></label\n                        >\n                        <label\n                            type=\"button\"\n                            class=\"btn btn-outline-secondary col-12\"\n                            for=\"avatar\"\n                        >\n                            <i class=\"bi bi-cloud-arrow-up-fill\"></i>\n                            Tải ảnh lên\n                        </label>\n                        <input\n                            type=\"file\"\n                            name=\"avatar\"\n                            id=\"avatar\"\n                            accept=\"image/png, image/jpeg\"\n                            @change=\"setNameFile\"\n                            class=\"d-none\"\n                        />\n                        <div\n                            class=\"col-12 my-2\"\n                            style=\"text-overflow: ellipsis; overflow: hidden\"\n                        >\n                            {{ fileName }}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-6\">\n                    <div class=\"mb-4\">\n                        <label for=\"message\" class=\"form-label py-1\"\n                            ><strong>Thông tin giới thiệu</strong></label\n                        >\n                        <textarea\n                            type=\"text\"\n                            class=\"form-control\"\n                            id=\"message\"\n                            aria-describedby=\"name\"\n                            name=\"message\"\n                            v-model=\"account.message\"\n                            required\n                            rows=\"3\"\n                            cols=\"70\"\n                        ></textarea>\n                    </div>\n\n                    <div class=\"d-flex align-items-center\">\n                        <input\n                            v-model=\"changePwd\"\n                            type=\"checkbox\"\n                            style=\"width: 18px; height: 18px\"\n                        />\n                        <span class=\"ms-2\">Thay đổi mật khẩu</span>\n                    </div>\n                    <div class=\"mb-4\" style=\"margin-top: 32px\" v-if=\"changePwd\">\n                        <label for=\"phone\" class=\"form-label py-1\"\n                            ><strong>Mật khẩu hiện tại</strong></label\n                        >\n                        <input\n                            type=\"password\"\n                            class=\"form-control\"\n                            id=\"password\"\n                            aria-describedby=\"name\"\n                            name=\"password\"\n                            v-model=\"password\"\n                            required\n                        />\n                    </div>\n                    <div class=\"mb-4\" v-if=\"changePwd\">\n                        <label for=\"phone\" class=\"form-label py-1\"\n                            ><strong>Mật khẩu mới</strong></label\n                        >\n                        <input\n                            type=\"password\"\n                            class=\"form-control\"\n                            id=\"newPassword\"\n                            aria-describedby=\"name\"\n                            name=\"newPassword\"\n                            v-model=\"newPassword\"\n                            required\n                        />\n                    </div>\n                </div>\n\n                <div class=\"form__footer d-flex justify-content-center mt-4\">\n                    <button class=\"btn btn-danger mx-3\" @click=\"handleReset\">\n                        <i class=\"bi bi-arrow-clockwise\"></i>&nbsp;Đặt lại\n                    </button>\n                    <button type=\"submit\" class=\"btn btn-primary btn-save mx-3\">\n                        <i class=\"bi bi-calendar4\"></i>&nbsp; Lưu\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport config from \"@/config/index.js\";\nimport axios from \"axios\";\n\nimport { mapGetters } from \"vuex\";\nimport AvatarComponent from \"../../components/GlobalComponent/AvatarComponent.vue\";\n\nexport default {\n    name: \"UpdateInfor\",\n    components: { AvatarComponent },\n    data() {\n        return {\n            changePwd: false,\n            newPassword: \"\",\n            password: \"\",\n            fileName: \"\",\n        };\n    },\n    computed: {\n        ...mapGetters({ account: \"getAccount\" }),\n    },\n    async created() {\n        const token = localStorage.getItem(\"token\");\n        await this.$store.dispatch(\"setAccount\");\n\n        const res = await axios.get(\n            `${config.domain}/project/get-project-infor`,\n            {\n                params: { projectId: this.account.id },\n                headers: { Authorization: \"Bearer \" + token },\n            }\n        );\n\n        this.$store.commit(\"SET_ACCOUNT\", res.data.result);\n\n        if (this.$route.params.status == \"not-update\") {\n            this.$store.commit(\"SET_TOAST\", {\n                message: \"Mật khẩu hiện tại không chính xác!\",\n                isSuccess: false,\n            });\n        } else if (this.$route.params.status == \"success\") {\n            this.$store.commit(\"SET_TOAST\", {\n                message: \"Cập nhật thành công!\",\n                isSuccess: true,\n            });\n        }\n    },\n    mounted() {\n        const nav = document.querySelector(\"nav\");\n        nav.scrollIntoView();\n    },\n    methods: {\n        async updateProfile(e) {\n            try {\n                e.target.action = `${config.domain}/update-profile`;\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        handleReset() {\n            this.account.email = \"\";\n            this.account.phoneNumber = \"\";\n            this.newPassword = \"\";\n            this.password = \"\";\n            this.address = \"\";\n            this.message = \"\";\n        },\n        setNameFile(e) {\n            this.fileName = e.target.value.split(\"\\\\\")[2];\n        },\n    },\n};\n</script>\n\n<style scoped>\n.btn-save {\n    min-width: 70px;\n}\n\n.form-update {\n    min-width: 900px;\n}\n\n.form-update {\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}